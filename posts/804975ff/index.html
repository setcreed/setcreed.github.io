<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>01-常用模块 | 伊甸园</title><meta name="author" content="SetCreed"><meta name="copyright" content="SetCreed"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="OS模块能与操作系统交互，控制文件 &#x2F; 文件夹 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879# 创建文件夹import osos.mkdir(r&amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="01-常用模块">
<meta property="og:url" content="https://setcreed.github.io/posts/804975ff/index.html">
<meta property="og:site_name" content="伊甸园">
<meta property="og:description" content="OS模块能与操作系统交互，控制文件 &#x2F; 文件夹 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879# 创建文件夹import osos.mkdir(r&amp;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://setcreed.oss-cn-shanghai.aliyuncs.com/images/material-1.png">
<meta property="article:published_time" content="2022-03-03T15:15:29.000Z">
<meta property="article:modified_time" content="2024-03-04T15:56:33.067Z">
<meta property="article:author" content="SetCreed">
<meta property="article:tag" content="hexo、code、dream">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://setcreed.oss-cn-shanghai.aliyuncs.com/images/material-1.png"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://setcreed.github.io/posts/804975ff/index.html"><link rel="preconnect" href="//unpkg.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://unpkg.com/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"距离上次更新已经过了","messageNext":"天，文章所描述的内容可能已经发生变化，请留意。"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":500},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://unpkg.com/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '01-常用模块',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-03-04 23:56:33'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/custom/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/custom/icon.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="伊甸园" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">89</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/cloudnative/"><i class="fa-fw fas fa-cloud"></i><span> 云原生</span></a></li><li><a class="site-page child" href="/golang/"><i class="fa-fw fa-brands fa-golang"></i><span> Golang编程</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 读书</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> 游戏</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://setcreed.oss-cn-shanghai.aliyuncs.com/images/material-1.png')"><nav id="nav"><span id="blog-info"><a href="/" title="伊甸园"><span class="site-name">伊甸园</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/cloudnative/"><i class="fa-fw fas fa-cloud"></i><span> 云原生</span></a></li><li><a class="site-page child" href="/golang/"><i class="fa-fw fa-brands fa-golang"></i><span> Golang编程</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 读书</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> 游戏</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 图库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">01-常用模块</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-03T15:15:29.000Z" title="发表于 2022-03-03 23:15:29">2022-03-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-03-04T15:56:33.067Z" title="更新于 2024-03-04 23:56:33">2024-03-04</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>44分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="01-常用模块"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="OS模块"><a href="#OS模块" class="headerlink" title="OS模块"></a>OS模块</h1><p>能与操作系统交互，控制文件 / 文件夹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建文件夹</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.mkdir(<span class="string">r&#x27;D:\py_case\test&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除文件夹</span></span><br><span class="line">os.rmdir(<span class="string">r&#x27;D:\py_case\test&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># # 列出指定目录下所有文件和子目录 （子目录文件不会列出来）</span></span><br><span class="line">res = os.listdir(<span class="string">r&#x27;D:\pycharm_project\Test&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"><span class="comment"># 打印结果：[&#x27;.idea&#x27;, &#x27;ex16.py&#x27;, &#x27;test.json&#x27;, &#x27;test.pkl&#x27;, &#x27;test.py&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出当前文件所在的文件夹</span></span><br><span class="line">res = os.getcwd()</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"><span class="comment"># 打印结果： D:\pycharm_project\Test</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出当前文件所在的具体路径</span></span><br><span class="line"><span class="comment"># __file__ pycharm独有的</span></span><br><span class="line">res = os.path.abspath(__file__)  <span class="comment"># 根据不同的操作系统更换不同的/或\</span></span><br><span class="line"><span class="built_in">print</span>(res)   <span class="comment"># D:\pycharm_project\Test\test.py</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件的文件夹</span></span><br><span class="line">res = os.path.dirname(os.path.abspath(__file__))</span><br><span class="line"><span class="built_in">print</span>(res)   <span class="comment"># D:\pycharm_project\Test</span></span><br><span class="line">res = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))</span><br><span class="line"><span class="built_in">print</span>(res)    <span class="comment"># D:\pycharm_project</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拼接文件路径</span></span><br><span class="line">res = os.path.join(os.path.dirname(os.path.abspath(__file__)), <span class="string">&#x27;img&#x27;</span>, <span class="string">&#x27;test.jpg&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)   <span class="comment"># D:\pycharm_project\Test\img\test.jpg</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断路径是否存在（文件 / 文件夹都适用）</span></span><br><span class="line">res = os.path.exists(<span class="string">r&#x27;D:\pycharm_project\Test\ex16.py&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)   <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断是否为文件</span></span><br><span class="line">res = os.path.isfile(<span class="string">r&#x27;D:\pycharm_project\Test\aaa&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除文件</span></span><br><span class="line">os.remove(<span class="string">&#x27;test.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名文件</span></span><br><span class="line">os.rename(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;test2.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断是否为文件夹</span></span><br><span class="line">res = os.path.isdir(<span class="string">r&#x27;D:\pycharm_project\Test\aaa&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)   <span class="comment">#True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 与终端交互，输入命令</span></span><br><span class="line">res = os.system(<span class="string">&#x27;dir&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line">res = os.walk(<span class="string">r&#x27;D:\pycharm_project\Test\aaa&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(res)   <span class="comment"># &lt;generator object walk at 0x0000027DB46916D8&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = os.walk(<span class="string">r&#x27;D:\pycharm_project\Test&#x27;</span>)</span><br><span class="line"><span class="comment"># print(res)</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">dir</span>, _, files <span class="keyword">in</span> res:</span><br><span class="line">    <span class="comment"># print(i) # 所有文件夹名</span></span><br><span class="line">    <span class="comment"># print(l)  # 某个文件下对应的所有文件名</span></span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">        file_path = os.path.join(<span class="built_in">dir</span>,file)  <span class="comment"># 拼接成所有文件名</span></span><br><span class="line">        <span class="keyword">if</span> file_path.endswith(<span class="string">&#x27;py&#x27;</span>):   <span class="comment"># 拿到py文件</span></span><br><span class="line">            <span class="built_in">print</span>(file_path)</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">D:\pycharm_project\Test\ex16.py</span></span><br><span class="line"><span class="string">D:\pycharm_project\Test\test.py</span></span><br><span class="line"><span class="string">D:\pycharm_project\Test\aaa\12.py</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">方法</th>
<th style="text-align:center">详解</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">os.getcwd()</td>
<td style="text-align:center">获取当前工作目录，即当前python脚本工作的目录路径</td>
</tr>
<tr>
<td style="text-align:center">os.chdir(“dirname”)</td>
<td style="text-align:center">改变当前脚本工作目录；相当于shell下cd</td>
</tr>
<tr>
<td style="text-align:center">os.curdir</td>
<td style="text-align:center">返回当前目录: (‘.’)</td>
</tr>
<tr>
<td style="text-align:center">os.pardir</td>
<td style="text-align:center">获取当前目录的父目录字符串名：(‘..’)</td>
</tr>
<tr>
<td style="text-align:center">os.makedirs(‘dirname1/dirname2’)</td>
<td style="text-align:center">可生成多层递归目录</td>
</tr>
<tr>
<td style="text-align:center">os.removedirs(‘dirname1’)</td>
<td style="text-align:center">若目录为空，则删除，并递归到上一级目录，如若也为空，则删除，依此类推</td>
</tr>
<tr>
<td style="text-align:center">os.mkdir(‘dirname’)</td>
<td style="text-align:center">生成单级目录；相当于shell中mkdir dirname</td>
</tr>
<tr>
<td style="text-align:center">os.rmdir(‘dirname’)</td>
<td style="text-align:center">删除单级空目录，若目录不为空则无法删除，报错；相当于shell中rmdir dirname</td>
</tr>
<tr>
<td style="text-align:center">os.listdir(‘dirname’)</td>
<td style="text-align:center">列出指定目录下的所有文件和子目录，包括隐藏文件，并以列表方式打印</td>
</tr>
<tr>
<td style="text-align:center">os.remove()</td>
<td style="text-align:center">删除一个文件</td>
</tr>
<tr>
<td style="text-align:center">os.rename(“oldname”,”newname”)</td>
<td style="text-align:center">重命名文件/目录</td>
</tr>
<tr>
<td style="text-align:center">os.stat(‘path/filename’)</td>
<td style="text-align:center">获取文件/目录信息</td>
</tr>
<tr>
<td style="text-align:center">os.sep</td>
<td style="text-align:center">输出操作系统特定的路径分隔符，win下为””,Linux下为”/“</td>
</tr>
<tr>
<td style="text-align:center">os.linesep</td>
<td style="text-align:center">输出当前平台使用的行终止符，win下为”\t\n”,Linux下为”\n”</td>
</tr>
<tr>
<td style="text-align:center">os.pathsep</td>
<td style="text-align:center">输出用于分割文件路径的字符串 win下为;,Linux下为:</td>
</tr>
<tr>
<td style="text-align:center">os.name</td>
<td style="text-align:center">输出字符串指示当前使用平台。win-&gt;’nt’; Linux-&gt;’posix’</td>
</tr>
<tr>
<td style="text-align:center">os.system(“bash command”)</td>
<td style="text-align:center">运行shell命令，直接显示</td>
</tr>
<tr>
<td style="text-align:center">os.environ</td>
<td style="text-align:center">获取系统环境变量</td>
</tr>
<tr>
<td style="text-align:center">os.path.abspath(path)</td>
<td style="text-align:center">返回path规范化的绝对路径</td>
</tr>
<tr>
<td style="text-align:center">os.path.split(path)</td>
<td style="text-align:center">将path分割成目录和文件名二元组返回</td>
</tr>
<tr>
<td style="text-align:center">os.path.dirname(path)</td>
<td style="text-align:center">返回path的目录。其实就是os.path.split(path)的第一个元素</td>
</tr>
<tr>
<td style="text-align:center">os.path.basename(path)</td>
<td style="text-align:center">返回path最后的文件名。如何path以／或\结尾，那么就会返回空值。即os.path.split(path)的第二个元素</td>
</tr>
<tr>
<td style="text-align:center">os.path.exists(path)</td>
<td style="text-align:center">如果path存在，返回True；如果path不存在，返回False</td>
</tr>
<tr>
<td style="text-align:center">os.path.isabs(path)</td>
<td style="text-align:center">如果path是绝对路径，返回True</td>
</tr>
<tr>
<td style="text-align:center">os.path.isfile(path)</td>
<td style="text-align:center">如果path是一个存在的文件，返回True。否则返回False</td>
</tr>
<tr>
<td style="text-align:center">os.path.isdir(path)</td>
<td style="text-align:center">如果path是一个存在的目录，则返回True。否则返回False</td>
</tr>
<tr>
<td style="text-align:center">os.path.join(path1[, path2[, …]])</td>
<td style="text-align:center">将多个路径组合后返回，第一个绝对路径之前的参数将被忽略</td>
</tr>
<tr>
<td style="text-align:center">os.path.getatime(path)</td>
<td style="text-align:center">返回path所指向的文件或者目录的最后存取时间</td>
</tr>
<tr>
<td style="text-align:center">os.path.getmtime(path)</td>
<td style="text-align:center">返回path所指向的文件或者目录的最后修改时间</td>
</tr>
<tr>
<td style="text-align:center">os.path.getsize(path)</td>
<td style="text-align:center">返回path的大小</td>
</tr>
</tbody>
</table>
</div>
<h1 id="sys模块"><a href="#sys模块" class="headerlink" title="sys模块"></a>sys模块</h1><p>与python解释器交互</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment">## 最常用，当使用命令行式运行文件，接收多余的参数</span></span><br><span class="line">res = sys.argv</span><br><span class="line"><span class="built_in">print</span>(res)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/setcreed/pic_img/cdn_img/20200131192920.png" alt=""></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">方法</th>
<th style="text-align:center">详解</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">sys.argv</td>
<td style="text-align:center">命令行参数List，第一个元素是程序本身路径</td>
</tr>
<tr>
<td style="text-align:center">sys.modules.keys()</td>
<td style="text-align:center">返回所有已经导入的模块列表</td>
</tr>
<tr>
<td style="text-align:center">sys.exc_info()</td>
<td style="text-align:center">获取当前正在处理的异常类,exc_type、exc_value、exc_traceback当前处理的异常详细信息</td>
</tr>
<tr>
<td style="text-align:center">sys.exit(n)</td>
<td style="text-align:center">退出程序，正常退出时exit(0)</td>
</tr>
<tr>
<td style="text-align:center">sys.hexversion</td>
<td style="text-align:center">获取Python解释程序的版本值，16进制格式如：0x020403F0</td>
</tr>
<tr>
<td style="text-align:center">sys.version</td>
<td style="text-align:center">获取Python解释程序的版本信息</td>
</tr>
<tr>
<td style="text-align:center">sys.maxint</td>
<td style="text-align:center">最大的Int值</td>
</tr>
<tr>
<td style="text-align:center">sys.maxunicode</td>
<td style="text-align:center">最大的Unicode值</td>
</tr>
<tr>
<td style="text-align:center">sys.modules</td>
<td style="text-align:center">返回系统导入的模块字段，key是模块名，value是模块</td>
</tr>
<tr>
<td style="text-align:center">sys.path</td>
<td style="text-align:center">返回模块的搜索路径，初始化时使用PYTHONPATH环境变量的值</td>
</tr>
<tr>
<td style="text-align:center">sys.platform</td>
<td style="text-align:center">返回操作系统平台名称</td>
</tr>
<tr>
<td style="text-align:center">sys.stdout</td>
<td style="text-align:center">标准输出</td>
</tr>
<tr>
<td style="text-align:center">sys.stdin</td>
<td style="text-align:center">标准输入</td>
</tr>
<tr>
<td style="text-align:center">sys.stderr</td>
<td style="text-align:center">错误输出</td>
</tr>
<tr>
<td style="text-align:center">sys.exc_clear()</td>
<td style="text-align:center">用来清除当前线程所出现的当前的或最近的错误信息</td>
</tr>
<tr>
<td style="text-align:center">sys.exec_prefix</td>
<td style="text-align:center">返回平台独立的python文件安装的位置</td>
</tr>
<tr>
<td style="text-align:center">sys.byteorder</td>
<td style="text-align:center">本地字节规则的指示器，big-endian平台的值是’big’,little-endian平台的值是’little’</td>
</tr>
<tr>
<td style="text-align:center">sys.copyright</td>
<td style="text-align:center">记录python版权相关的东西</td>
</tr>
<tr>
<td style="text-align:center">sys.api_version</td>
<td style="text-align:center">解释器的C的API版本</td>
</tr>
</tbody>
</table>
</div>
<h1 id="json和pickle模块"><a href="#json和pickle模块" class="headerlink" title="json和pickle模块"></a>json和pickle模块</h1><h2 id="序列化和反序列化"><a href="#序列化和反序列化" class="headerlink" title="序列化和反序列化"></a>序列化和反序列化</h2><ul>
<li>序列化：按照特定的规则排列，把python数据类型转化为json串，便于跨平台传输</li>
<li>反序列化：把json串转化为python / java / c / php 需要的语言</li>
</ul>
<p>Json序列化并不是python独有的，json序列化在java等语言中也会涉及到，因此使用json序列化能够达到跨平台传输数据的目的。</p>
<p>json数据类型和python数据类型对应关系表</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Json类型</th>
<th style="text-align:center">Python类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">{}</td>
<td style="text-align:center">dict</td>
</tr>
<tr>
<td style="text-align:center">[]</td>
<td style="text-align:center">list</td>
</tr>
<tr>
<td style="text-align:center">“string”</td>
<td style="text-align:center">str</td>
</tr>
<tr>
<td style="text-align:center">520.13</td>
<td style="text-align:center">int或float</td>
</tr>
<tr>
<td style="text-align:center">true/false</td>
<td style="text-align:center">True/False</td>
</tr>
<tr>
<td style="text-align:center">null</td>
<td style="text-align:center">None</td>
</tr>
</tbody>
</table>
</div>
<h2 id="json模块"><a href="#json模块" class="headerlink" title="json模块"></a>json模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="literal">None</span>&#125;</span><br><span class="line"></span><br><span class="line">data = json.dumps(dic)   <span class="comment"># json串中没有单引号</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(data), data)</span><br><span class="line">data = json.loads(data)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(data), data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;class &#x27;str&#x27;&gt; &#123;&quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: null&#125;</span></span><br><span class="line"><span class="string">&lt;class &#x27;dict&#x27;&gt; &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2, &#x27;c&#x27;: None&#125;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">dic = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="literal">None</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列化字典为json串，并保存文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">    json.dump(dic, fw)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 反序列化</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&#x27;<span class="subst">&#123;<span class="string">&quot;test&quot;</span>&#125;</span>.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fr:</span><br><span class="line">    data = json.load(fr)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">type</span>(data), data)  <span class="comment"># &lt;class &#x27;dict&#x27;&gt; &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 2, &#x27;c&#x27;: None&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="pickle"><a href="#pickle" class="headerlink" title="pickle"></a>pickle</h2><p>Pickle序列化和所有其他编程语言特有的序列化问题一样，它只能用于Python。但是pickle的好处是可以存储Python中的所有的数据类型，包括对象，而json不可以。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">se = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.pkl&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">    pickle.dump(se, fw)</span><br><span class="line">se = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    x = <span class="number">3</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>():</span><br><span class="line">        <span class="built_in">print</span>(x)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.pkl&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fw:</span><br><span class="line">    pickle.dump(func, fw)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.pkl&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fr:</span><br><span class="line">    data = pickle.load(fr)</span><br><span class="line">    <span class="comment"># print(data)</span></span><br><span class="line">    res = data()</span><br><span class="line">    res()</span><br></pre></td></tr></table></figure>
<h1 id="logging模块"><a href="#logging模块" class="headerlink" title="logging模块"></a>logging模块</h1><p>v1:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># 日志级别（如果不设置，默认显示30以上）</span></span><br><span class="line">logging.info(<span class="string">&#x27;info&#x27;</span>)   <span class="comment"># 10</span></span><br><span class="line">logging.debug(<span class="string">&#x27;debug&#x27;</span>)     <span class="comment"># 20</span></span><br><span class="line">logging.warning(<span class="string">&#x27;warning&#x27;</span>)   <span class="comment"># 30</span></span><br><span class="line">logging.error(<span class="string">&#x27;error&#x27;</span>)     <span class="comment"># 40</span></span><br><span class="line">logging.critical(<span class="string">&#x27;critical&#x27;</span>)  <span class="comment"># 50</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">WARNING:root:warning</span></span><br><span class="line"><span class="string">ERROR:root:error</span></span><br><span class="line"><span class="string">CRITICAL:root:critical</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>v2:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># 日志的基本配置</span></span><br><span class="line"></span><br><span class="line">logging.basicConfig(filename=<span class="string">&#x27;access.log&#x27;</span>,</span><br><span class="line">                    <span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s - %(name)s - %(levelname)s -%(module)s: %(message)s&#x27;</span>,</span><br><span class="line">                    datefmt=<span class="string">&#x27;%Y-%m-%d %H:%M:%S %p&#x27;</span>,</span><br><span class="line">                    level=<span class="number">10</span>)  <span class="comment"># level是等级，10以上的都记录日志</span></span><br><span class="line"></span><br><span class="line">logging.info(<span class="string">&#x27;正常信息&#x27;</span>)  <span class="comment"># 10</span></span><br><span class="line">logging.debug(<span class="string">&#x27;调试信息&#x27;</span>)  <span class="comment"># 20</span></span><br><span class="line">logging.warning(<span class="string">&#x27;警告信息&#x27;</span>)  <span class="comment"># 30</span></span><br><span class="line">logging.error(<span class="string">&#x27;报错信息&#x27;</span>)  <span class="comment"># 40</span></span><br><span class="line">logging.critical(<span class="string">&#x27;严重错误信息&#x27;</span>)  <span class="comment"># 50</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 会创建一个access.log日志：</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">2019-09-27 21:57:45 PM - root - DEBUG -test: 调试信息</span></span><br><span class="line"><span class="string">2019-09-27 21:57:45 PM - root - INFO -test: 正常信息</span></span><br><span class="line"><span class="string">2019-09-27 21:57:45 PM - root - WARNING -test: 警告信息</span></span><br><span class="line"><span class="string">2019-09-27 21:57:45 PM - root - ERROR -test: 报错信息</span></span><br><span class="line"><span class="string">2019-09-27 21:57:45 PM - root - CRITICAL -test: 严重错误信息</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>v3: 自定义配置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 配置logger对象</span></span><br><span class="line">cwz_logger = logging.Logger(<span class="string">&#x27;cwz&#x27;</span>)</span><br><span class="line">neo_logger = logging.Logger(<span class="string">&#x27;neo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 配置格式</span></span><br><span class="line">formmater1 = logging.Formatter(<span class="string">&#x27;%(asctime)s - %(name)s -%(thread)d - %(levelname)s -%(module)s:  %(message)s&#x27;</span>,</span><br><span class="line">                               datefmt=<span class="string">&#x27;%Y-%m-%d %H:%M:%S %p &#x27;</span>, )</span><br><span class="line"></span><br><span class="line">formmater2 = logging.Formatter(<span class="string">&#x27;%(asctime)s :  %(message)s&#x27;</span>,</span><br><span class="line">                               datefmt=<span class="string">&#x27;%Y-%m-%d %H:%M:%S %p&#x27;</span>, )</span><br><span class="line"></span><br><span class="line">formmater3 = logging.Formatter(<span class="string">&#x27;%(name)s %(message)s&#x27;</span>, )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 配置handler --&gt; 往文件打印or往终端打印</span></span><br><span class="line">h1 = logging.FileHandler(<span class="string">&#x27;cwz.log&#x27;</span>)</span><br><span class="line">h2 = logging.FileHandler(<span class="string">&#x27;neo.log&#x27;</span>)</span><br><span class="line">sm = logging.StreamHandler()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 给handler配置格式</span></span><br><span class="line">h1.setFormatter(formmater1)</span><br><span class="line">h2.setFormatter(formmater2)</span><br><span class="line">sm.setFormatter(formmater3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. 把handler绑定给logger对象</span></span><br><span class="line">cwz_logger.addHandler(h1)</span><br><span class="line">cwz_logger.addHandler(sm)</span><br><span class="line">neo_logger.addHandler(h2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. 直接使用</span></span><br><span class="line">cwz_logger.info(<span class="string">f&#x27;cwz 购买 变形金刚 8个&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="time模块"><a href="#time模块" class="headerlink" title="time模块"></a>time模块</h1><h2 id="时间戳"><a href="#时间戳" class="headerlink" title="时间戳"></a>时间戳</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(time.time())   <span class="comment"># 从1970年1月1日00:00:00开始计算到现在的秒数</span></span><br></pre></td></tr></table></figure>
<h2 id="格式化时间"><a href="#格式化时间" class="headerlink" title="格式化时间"></a>格式化时间</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time </span><br><span class="line"><span class="built_in">print</span>(time.strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>))  <span class="comment"># 2019-09-28 17:15:47</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(time.strftime(<span class="string">&#x27;%Y-%m-%d %X&#x27;</span>))   <span class="comment"># 2019-09-28 17:16:50</span></span><br></pre></td></tr></table></figure>
<h2 id="结构化时间"><a href="#结构化时间" class="headerlink" title="结构化时间"></a>结构化时间</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="built_in">print</span>(time.localtime())   <span class="comment"># time.struct_time(tm_year=2019, tm_mon=9, tm_mday=28, tm_hour=17, tm_min=18, tm_sec=11, tm_wday=5, tm_yday=271, tm_isdst=0)</span></span><br><span class="line"><span class="comment"># 结构化基础时间</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="built_in">print</span>(time.localtime(<span class="number">0</span>))   <span class="comment"># time.struct_time(tm_year=1970, tm_mon=1, tm_mday=1, tm_hour=8, tm_min=0, tm_sec=0, tm_wday=3, tm_yday=1, tm_isdst=0)</span></span><br></pre></td></tr></table></figure>
<h2 id="sleep"><a href="#sleep" class="headerlink" title="sleep"></a>sleep</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time </span><br><span class="line"></span><br><span class="line">start = time.time()</span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line">end = time.time()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;暂停了<span class="subst">&#123;end - start&#125;</span>秒&#x27;</span>)  <span class="comment"># 暂停了2.000108003616333秒</span></span><br></pre></td></tr></table></figure>
<h2 id="文本进度条展示"><a href="#文本进度条展示" class="headerlink" title="文本进度条展示"></a>文本进度条展示</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(time.time())  <span class="comment"># 从1970.01.01.00:00开始计算时间</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-------&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">3</span>)  <span class="comment"># 睡眠</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-------&#x27;</span>)</span><br><span class="line"><span class="comment"># cpu级别的时间计算，一般用于程序耗时时间计算</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">start = time.perf_counter()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    time.sleep(<span class="number">0.01</span>)</span><br><span class="line"><span class="built_in">print</span>(time.perf_counter() - start)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">0.10681829999999998</span></span><br></pre></td></tr></table></figure>
<h3 id="文本进度条"><a href="#文本进度条" class="headerlink" title="文本进度条"></a>文本进度条</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"> 0 %[-&gt;..........]</span></span><br><span class="line"><span class="string">10 %[*-&gt;.........]</span></span><br><span class="line"><span class="string">20 %[**-&gt;........]</span></span><br><span class="line"><span class="string">30 %[***-&gt;.......]</span></span><br><span class="line"><span class="string">40 %[****-&gt;......]</span></span><br><span class="line"><span class="string">50 %[*****-&gt;.....]</span></span><br><span class="line"><span class="string">60 %[******-&gt;....]</span></span><br><span class="line"><span class="string">70 %[*******-&gt;...]</span></span><br><span class="line"><span class="string">80 %[********-&gt;..]</span></span><br><span class="line"><span class="string">90 %[*********-&gt;.]</span></span><br><span class="line"><span class="string">100%[**********-&gt;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="简单开始"><a href="#简单开始" class="headerlink" title="简单开始"></a>简单开始</h3><p>星号在递增，小点在递减，用两个循环</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;*&#x27;</span>* i + <span class="string">&#x27;.&#x27;</span> * (<span class="number">10</span> - i))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line">..........</span><br><span class="line">*.........</span><br><span class="line">**........</span><br><span class="line">***.......</span><br><span class="line">****......</span><br><span class="line">*****.....</span><br><span class="line">******....</span><br><span class="line">*******...</span><br><span class="line">********..</span><br><span class="line">*********.</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;[<span class="subst">&#123;<span class="string">&quot;*&quot;</span> * i&#125;</span> -&gt; <span class="subst">&#123;<span class="string">&quot;.&quot;</span> * (<span class="number">10</span> - i)&#125;</span>]&#x27;</span>)</span><br><span class="line">    </span><br><span class="line"> <span class="comment"># 打印结果：</span></span><br><span class="line">[ -&gt; ..........]</span><br><span class="line">[* -&gt; .........]</span><br><span class="line">[** -&gt; ........]</span><br><span class="line">[*** -&gt; .......]</span><br><span class="line">[**** -&gt; ......]</span><br><span class="line">[***** -&gt; .....]</span><br><span class="line">[****** -&gt; ....]</span><br><span class="line">[******* -&gt; ...]</span><br><span class="line">[******** -&gt; ..]</span><br><span class="line">[********* -&gt; .]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;i*<span class="number">10</span>: ^<span class="number">3</span>&#125;</span>% [<span class="subst">&#123;<span class="string">&quot;*&quot;</span> * i&#125;</span> -&gt; <span class="subst">&#123;<span class="string">&quot;.&quot;</span> * (<span class="number">10</span> - i)&#125;</span>]&#x27;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line"> <span class="number">0</span> % [ -&gt; ..........]</span><br><span class="line"><span class="number">10</span> % [* -&gt; .........]</span><br><span class="line"><span class="number">20</span> % [** -&gt; ........]</span><br><span class="line"><span class="number">30</span> % [*** -&gt; .......]</span><br><span class="line"><span class="number">40</span> % [**** -&gt; ......]</span><br><span class="line"><span class="number">50</span> % [***** -&gt; .....]</span><br><span class="line"><span class="number">60</span> % [****** -&gt; ....]</span><br><span class="line"><span class="number">70</span> % [******* -&gt; ...]</span><br><span class="line"><span class="number">80</span> % [******** -&gt; ..]</span><br><span class="line"><span class="number">90</span> % [********* -&gt; .]</span><br></pre></td></tr></table></figure>
<h3 id="继续修改"><a href="#继续修改" class="headerlink" title="继续修改"></a>继续修改</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">scale = <span class="number">11</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(scale):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;(i/scale)*scale: ^<span class="number">3.1</span>f&#125;</span>% [<span class="subst">&#123;<span class="string">&quot;*&quot;</span> * i&#125;</span> -&gt; <span class="subst">&#123;<span class="string">&quot;.&quot;</span> * (scale - i)&#125;</span>]&#x27;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line"><span class="number">0.0</span>% [ -&gt; ...........]</span><br><span class="line"><span class="number">1.0</span>% [* -&gt; ..........]</span><br><span class="line"><span class="number">2.0</span>% [** -&gt; .........]</span><br><span class="line"><span class="number">3.0</span>% [*** -&gt; ........]</span><br><span class="line"><span class="number">4.0</span>% [**** -&gt; .......]</span><br><span class="line"><span class="number">5.0</span>% [***** -&gt; ......]</span><br><span class="line"><span class="number">6.0</span>% [****** -&gt; .....]</span><br><span class="line"><span class="number">7.0</span>% [******* -&gt; ....]</span><br><span class="line"><span class="number">8.0</span>% [******** -&gt; ...]</span><br><span class="line"><span class="number">9.0</span>% [********* -&gt; ..]</span><br><span class="line"><span class="number">10.0</span>% [********** -&gt; .]</span><br></pre></td></tr></table></figure>
<h3 id="单条显示"><a href="#单条显示" class="headerlink" title="单条显示"></a>单条显示</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scale = <span class="number">101</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(scale):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;\r<span class="subst">&#123;(i/scale)*scale: ^<span class="number">3.1</span>f&#125;</span>% [<span class="subst">&#123;<span class="string">&quot;*&quot;</span> * i&#125;</span> -&gt; <span class="subst">&#123;<span class="string">&quot;.&quot;</span> * (scale - i)&#125;</span>]&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line"><span class="number">100.0</span>% [**************************************************************************************************** -&gt; .]</span><br></pre></td></tr></table></figure>
<h3 id="文本进度条最终形式"><a href="#文本进度条最终形式" class="headerlink" title="文本进度条最终形式"></a>文本进度条最终形式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">start = time.perf_counter()</span><br><span class="line">scale = <span class="number">101</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(scale):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;\r<span class="subst">&#123;(i / scale) * scale: ^<span class="number">3.1</span>f&#125;</span>% [<span class="subst">&#123;<span class="string">&quot;*&quot;</span> * i&#125;</span> -&gt; <span class="subst">&#123;<span class="string">&quot;.&quot;</span> * (scale - i)&#125;</span>] <span class="subst">&#123;time.perf_counter() - start:<span class="number">.2</span>f&#125;</span>s&#x27;</span>,</span><br><span class="line">          end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>
<h1 id="datetime模块"><a href="#datetime模块" class="headerlink" title="datetime模块"></a>datetime模块</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出当前时间</span></span><br><span class="line"><span class="built_in">print</span>(datetime.datetime.now())</span><br><span class="line"><span class="comment"># 2019-09-28 17:25:24.551237</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加时间</span></span><br><span class="line">now = datetime.datetime.now()</span><br><span class="line"><span class="built_in">print</span>(now + datetime.timedelta(days=<span class="number">3</span>))</span><br><span class="line"><span class="comment"># 2019-10-01 17:28:24.710093</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 时间替换</span></span><br><span class="line"><span class="built_in">print</span>(now.replace(year=<span class="number">1940</span>))</span><br><span class="line"><span class="comment"># 1940-09-28 17:29:45.066855</span></span><br></pre></td></tr></table></figure>
<h1 id="random模块"><a href="#random模块" class="headerlink" title="random模块"></a>random模块</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0-1随机数</span></span><br><span class="line"><span class="built_in">print</span>(random.random())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1-100随机整数</span></span><br><span class="line"><span class="built_in">print</span>(random.randint(<span class="number">1</span>,<span class="number">100</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1-3之间随机整数</span></span><br><span class="line"><span class="built_in">print</span>(random.randrange(<span class="number">1</span>, <span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打乱lt的顺序</span></span><br><span class="line">lt = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">60</span>]</span><br><span class="line">random.shuffle(lt)   <span class="comment"># [4, 1, 60, 2]</span></span><br><span class="line"><span class="built_in">print</span>(lt)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 随机选择lt中一个元素</span></span><br><span class="line"><span class="built_in">print</span>(random.choice(lt))</span><br><span class="line"></span><br><span class="line"><span class="comment"># random.seed</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">random.seed(<span class="number">4</span>)   <span class="comment"># 给一个随机数种子</span></span><br><span class="line"><span class="built_in">print</span>(random.random())   <span class="comment"># 只第一次随机生成，之后生成的数字就一样了</span></span><br><span class="line"><span class="built_in">print</span>(random.random())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果不自定义种子，则种子按照当前的时间来</span></span><br></pre></td></tr></table></figure>
<h2 id="计算圆周率"><a href="#计算圆周率" class="headerlink" title="计算圆周率"></a>计算圆周率</h2><ul>
<li>公式法计算</li>
</ul>
<p>圆周率计算公式：</p>
<script type="math/tex; mode=display">
\pi = \sum_{k=0}^\infty [\frac{1}{16^k} (\frac{4}{8k+1}-\frac{2}{8k+4}-\frac{1}{8k+5}-\frac{1}{8k+6})]</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pi = <span class="number">0</span></span><br><span class="line">k = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    pi += (<span class="number">1</span> / (<span class="number">16</span> ** k)) * (<span class="number">4</span> / (<span class="number">8</span> * k + <span class="number">1</span>) - <span class="number">2</span> / (<span class="number">8</span> * k + <span class="number">4</span>) - <span class="number">1</span> / (<span class="number">8</span> * k + <span class="number">5</span>) - <span class="number">1</span> / (<span class="number">8</span> * k + <span class="number">6</span>))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(pi)</span><br><span class="line">    k += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>蒙特卡罗方法计算圆周率</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/setcreed/pic_img/cdn_img/20200131205330.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000000</span>):</span><br><span class="line">    x, y = random.random(), random.random()</span><br><span class="line">    distance = <span class="built_in">pow</span>(x**<span class="number">2</span> + y**<span class="number">2</span>, <span class="number">0.5</span>)</span><br><span class="line">    <span class="keyword">if</span> distance &lt; <span class="number">1</span>:</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(count/<span class="number">1000000</span>*<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<h1 id="typing模块"><a href="#typing模块" class="headerlink" title="typing模块"></a>typing模块</h1><p>与函数联用，控制函数参数的数据类型，提供了基础数据类型之外的数据类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Iterable</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x:<span class="built_in">int</span>, lt:<span class="built_in">list</span></span>) -&gt; <span class="built_in">list</span>:</span><br><span class="line">    <span class="keyword">return</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">func(<span class="number">10</span>,[<span class="number">12</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<h2 id="typing模块作用"><a href="#typing模块作用" class="headerlink" title="typing模块作用"></a>typing模块作用</h2><ul>
<li>类型检查，防止运行时出现参数和返回值类型不符合。</li>
<li>作为开发文档附加说明，方便使用者调用时传入和返回参数类型。</li>
<li>该模块加入后并不会影响程序的运行，不会报正式的错误，只有提醒。</li>
<li>注意：typing模块只有在python3.5以上的版本中才可以使用,pycharm目前支持typing检查</li>
</ul>
<h2 id="typing常用类型"><a href="#typing常用类型" class="headerlink" title="typing常用类型"></a>typing常用类型</h2><ul>
<li>int、long、float: 整型、长整形、浮点型</li>
<li>bool、str: 布尔型、字符串类型</li>
<li>List、 Tuple、 Dict、 Set:列表、元组、字典、集合</li>
<li>Iterable、Iterator:可迭代类型、迭代器类型</li>
<li>Generator：生成器类型</li>
</ul>
<h1 id="hashlib模块"><a href="#hashlib模块" class="headerlink" title="hashlib模块"></a>hashlib模块</h1><h2 id="hash是什么"><a href="#hash是什么" class="headerlink" title="hash是什么"></a>hash是什么</h2><p>hash是一种算法（Python3.版本里使用hashlib模块代替了md5模块和sha模块，主要提供 SHA1、SHA224、SHA256、SHA384、SHA512、MD5 算法），该算法接受传入的内容，经过运算得到一串hash值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line">m = hashlib.md5()</span><br><span class="line">m.update(<span class="string">b&#x27;sayhello&#x27;</span>)   <span class="comment"># 981fe96ed23ad8b9554cfeea38cd334a</span></span><br><span class="line"><span class="built_in">print</span>(m.hexdigest())   <span class="comment"># 对于不同的字符而言，永不重复</span></span><br></pre></td></tr></table></figure>
<h2 id="撞库破解hash算法"><a href="#撞库破解hash算法" class="headerlink" title="撞库破解hash算法"></a>撞库破解hash算法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">pwd_list = [</span><br><span class="line">    <span class="string">&#x27;hash3714&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;hash1313&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;hash94139413&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;hash123456&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;123456hash&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;h123ash&#x27;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">hash_pwd = <span class="string">&#x27;0562b36c3c5a3925dbe3c4d32a4f2ba2&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> pwd <span class="keyword">in</span> pwd_list:</span><br><span class="line">    m = hashlib.md5()</span><br><span class="line">    m.update(pwd.encode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">    res = m.hexdigest()</span><br><span class="line">    <span class="keyword">if</span> res <span class="keyword">in</span> hash_pwd:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;获取密码成功：<span class="subst">&#123;pwd&#125;</span>&#x27;</span>)  <span class="comment"># 获取密码成功：hash123456</span></span><br></pre></td></tr></table></figure>
<h1 id="hmac模块"><a href="#hmac模块" class="headerlink" title="hmac模块"></a>hmac模块</h1><p>密钥 加盐</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hmac</span><br><span class="line"></span><br><span class="line">m = hmac.new(<span class="string">b&#x27;haha&#x27;</span>)</span><br><span class="line">m.update(<span class="string">b&#x27;hash123456&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m.hexdigest())    <span class="comment"># 24bb8daab11e526fc9b8178e51bc2ae7</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">m = m = hmac.new(<span class="string">b&#x27;sadness&#x27;</span>)</span><br><span class="line">m.update(<span class="string">b&#x27;hash123456&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(m.hexdigest())   <span class="comment"># df405ffd019d6d3cd9a190fcab33aca5</span></span><br></pre></td></tr></table></figure>
<h1 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h1><p>作用就是去字符串找符合某种特点的字符串</p>
<h2 id="re模块的基本使用："><a href="#re模块的基本使用：" class="headerlink" title="re模块的基本使用："></a>re模块的基本使用：</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re  <span class="comment"># 第一步，要引入re模块</span></span><br><span class="line">a = re.findall(<span class="string">&quot;匹配规则&quot;</span>, <span class="string">&quot;这个字符串是否有匹配规则的字符&quot;</span>)  <span class="comment"># 第二步，调用模块函数</span></span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment"># 以列表形式返回匹配到的字符串</span></span><br></pre></td></tr></table></figure>
<p>^字符</p>
<p>以……开头</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abcdabc&#x27;</span></span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">&#x27;^abc&#x27;</span>,s)  </span><br><span class="line"><span class="built_in">print</span>(res)                  <span class="comment"># [&#x27;abc&#x27;]</span></span><br><span class="line">res = re.findall(<span class="string">&#x27;^bc&#x27;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(res)                  <span class="comment"># []</span></span><br></pre></td></tr></table></figure>
<p>$ 字符</p>
<p>以……结尾</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abcdabc&#x27;</span></span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">&#x27;bc$&#x27;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(res)             <span class="comment"># [&#x27;bc&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>. : 任意字符</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abc是dabc&#x27;</span></span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">&#x27;abc.&#x27;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(res)   <span class="comment"># [&#x27;abc是&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>\d：数字</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;asdhg213214h4c&#x27;</span></span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">&#x27;\d&#x27;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(res)   <span class="comment"># [&#x27;2&#x27;, &#x27;1&#x27;, &#x27;3&#x27;, &#x27;2&#x27;, &#x27;1&#x27;, &#x27;4&#x27;, &#x27;4&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>\D: 非数字</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;asdhg2132 -14h4c&#x27;</span></span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">&#x27;\D&#x27;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(res)   <span class="comment"># [&#x27;a&#x27;, &#x27;s&#x27;, &#x27;d&#x27;, &#x27;h&#x27;, &#x27;g&#x27;, &#x27; &#x27;, &#x27;-&#x27;, &#x27;h&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>\w: 非空, 数字、字母、下划线</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;asdhg213214h4c&#x27;</span></span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">&#x27;\w&#x27;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(res)   <span class="comment"># [&#x27;a&#x27;, &#x27;s&#x27;, &#x27;d&#x27;, &#x27;h&#x27;, &#x27;g&#x27;, &#x27;2&#x27;, &#x27;1&#x27;, &#x27;3&#x27;, &#x27;2&#x27;, &#x27;1&#x27;, &#x27;4&#x27;, &#x27;h&#x27;, &#x27;4&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>\W: 空，除了数字、字母、下划线外</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;as;g:21?32    -14h4c\n&#x27;</span></span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">&#x27;\W&#x27;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(res)  <span class="comment"># [&#x27;;&#x27;, &#x27;:&#x27;, &#x27;?&#x27;, &#x27; &#x27;, &#x27; &#x27;, &#x27; &#x27;, &#x27; &#x27;, &#x27;-&#x27;, &#x27;\n&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>\s: 空</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;asdhg2132 14h4c&#x27;</span></span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">&#x27;\s&#x27;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(res)    <span class="comment"># [&#x27; &#x27;]</span></span><br></pre></td></tr></table></figure>
<p>\S : 不空</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;asdhg2132    -14h4c\n&#x27;</span></span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">&#x27;\S&#x27;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(res)  <span class="comment"># [&#x27;a&#x27;, &#x27;s&#x27;, &#x27;d&#x27;, &#x27;h&#x27;, &#x27;g&#x27;, &#x27;2&#x27;, &#x27;1&#x27;, &#x27;3&#x27;, &#x27;2&#x27;, &#x27;-&#x27;, &#x27;1&#x27;, &#x27;4&#x27;, &#x27;h&#x27;, &#x27;4&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>
<p><code>+</code>: 前面的1个字符至少1个</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abcdddd abcd abc ab&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;abc+&#x27;</span>, s))</span><br></pre></td></tr></table></figure>
<p>?: 前面的1个字符0-1个</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abcdddd abcd abc ab a&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;abc?&#x27;</span>, s))  <span class="comment"># [&#x27;abc&#x27;, &#x27;abc&#x27;, &#x27;abc&#x27;, &#x27;ab&#x27;]</span></span><br></pre></td></tr></table></figure>
<p><code>*</code>: 前面的1个字符至少0个</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abcdddd abcd abc ab a&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;abcd*&#x27;</span>, s))   <span class="comment"># [&#x27;abcdddd&#x27;, &#x27;abcd&#x27;, &#x27;abc&#x27;]</span></span><br><span class="line">s = <span class="string">&#x27;abc bbc cbc dbc&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;[abc]bc&#x27;</span>, s))  <span class="comment"># [&#x27;abc&#x27;, &#x27;bbc&#x27;, &#x27;cbc&#x27;]</span></span><br></pre></td></tr></table></figure>
<p><sup><a href="#fn_" id="reffn_"></a></sup> : 中括号的都不可以</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abc bbc cbc dbc&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;[^abc]bc&#x27;</span>, s))  <span class="comment"># [&#x27;dbc&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>| : 或</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abc bbc dbc&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;abc|bbc&#x27;</span>, s))  <span class="comment"># [&#x27;abc&#x27;, &#x27;bbc&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>{2} : 前面的字符2个</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abcccab abcc&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;abc&#123;2&#125;&#x27;</span>, s))   <span class="comment"># [&#x27;abcc&#x27;, &#x27;abcc&#x27;] </span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;abc&#123;0,2&#125;&#x27;</span>, s))  <span class="comment"># [&#x27;abcc&#x27;, &#x27;ab&#x27;, &#x27;abcc&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>贪婪模式</p>
<p>(任意字符) * (0-无穷个)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abcdefgaaaaaaaaaaag&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;a.*g&#x27;</span>,s))</span><br><span class="line"><span class="comment"># [&#x27;abcdefgaaaaaaaaaaag&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>非贪婪模式</p>
<p>(任意字符) * (0-无穷个) ？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abcdefgbbbbbbbg&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;a.*?g&#x27;</span>,s))   <span class="comment"># [&#x27;abcdefg&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>了解：特殊构造</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># a(?=\d) ：a后面是数字，但是不要数字，不消耗字符串内容</span></span><br><span class="line">s = <span class="string">&#x27;a123 aaaa a234 abc&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;a(?=\d)&#x27;</span>, s))  <span class="comment">#[&#x27;a&#x27;, &#x27;a&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;a(?=\w)&#x27;</span>, s))  <span class="comment">#[&#x27;a&#x27;, &#x27;a&#x27;, &#x27;a&#x27;, &#x27;a&#x27;, &#x27;a&#x27;, &#x27;a&#x27;]</span></span><br></pre></td></tr></table></figure>
<h2 id="re模块常用的功能函数"><a href="#re模块常用的功能函数" class="headerlink" title="re模块常用的功能函数"></a>re模块常用的功能函数</h2><p>compile</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 早期，re.findall不能传模式，只能用compile</span></span><br><span class="line">s = <span class="string">&#x27;#@#@#@nickchen121@163.com$$$$////nick@qq.com$$#$#$[]]2287273393@162.com@$2423423lksdlfj#&#x27;</span></span><br><span class="line">email_pattern = re.<span class="built_in">compile</span>(<span class="string">&#x27;\w+@\w+.com&#x27;</span>)</span><br><span class="line">phone_patter = re.<span class="built_in">compile</span>(<span class="string">&#x27;\d&#123;13&#125;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(re.findall(email_pattern, s))</span><br></pre></td></tr></table></figure>
<p>match : 从开头找一个，找的到就不找了，找不到就报错</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abcd abcddd abc&#x27;</span></span><br><span class="line">res = re.<span class="keyword">match</span>(<span class="string">&#x27;abcd*&#x27;</span>, s)</span><br><span class="line"><span class="built_in">print</span>(res.group())  <span class="comment"># abcd</span></span><br></pre></td></tr></table></figure>
<p>search： 从字符串找一个，就不找了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abcd abcddd abc&#x27;</span></span><br><span class="line">res = re.search(<span class="string">&#x27;abcd*&#x27;</span>, s)</span><br><span class="line"><span class="built_in">print</span>(res.group())  <span class="comment"># abcd</span></span><br></pre></td></tr></table></figure>
<p>split 切分</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;adad213114242wjdnadjia1241423daj&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.split(<span class="string">&#x27;\d+&#x27;</span>, s))  <span class="comment"># [&#x27;adad&#x27;, &#x27;wjdnadjia&#x27;, &#x27;daj&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>sub 替换</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;adad213114242wjdnadjia1241423daj&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.sub(<span class="string">&#x27;\d+&#x27;</span>, <span class="string">&#x27;  &#x27;</span>, s))  <span class="comment"># adad  wjdnadjia  daj</span></span><br></pre></td></tr></table></figure>
<p>subn 替换，比sub多了 替换了多少次</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;adad213114242wjdnadjia1241423daj&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.subn(<span class="string">&#x27;\d+&#x27;</span>, <span class="string">&#x27;  &#x27;</span>, s))   <span class="comment"># (&#x27;adad  wjdnadjia  daj&#x27;, 2)</span></span><br></pre></td></tr></table></figure>
<p>补充: re.S</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;&#x27;&#x27;abc</span></span><br><span class="line"><span class="string">abcabc*abc</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;abc.abc&#x27;</span>,s ))  <span class="comment"># [&#x27;abc*abc&#x27;]   原本.不匹配换行</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;abc.abc&#x27;</span>,s ,re.S))  <span class="comment"># [&#x27;abc\nabc&#x27;, &#x27;abc*abc&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>分组： 只要括号里的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abc abcd abcddd&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&#x27;a(.)c(d)&#x27;</span>, s))  <span class="comment"># [(&#x27;b&#x27;, &#x27;d&#x27;), (&#x27;b&#x27;, &#x27;d&#x27;)]</span></span><br></pre></td></tr></table></figure>
<p>有名分组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abc abcd abcddd&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.search(<span class="string">&#x27;a(?P&lt;name1&gt;.)c(?P&lt;name2&gt;d)&#x27;</span>, s).groupdict()) <span class="comment"># &#123;&#x27;name1&#x27;: &#x27;b&#x27;, &#x27;name2&#x27;: &#x27;d&#x27;&#125;</span></span><br></pre></td></tr></table></figure>
<p>超高级用法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;abc123abc123&#x27;</span>  <span class="comment"># c123a</span></span><br><span class="line"><span class="built_in">print</span>(re.sub(<span class="string">&#x27;c(\d+)a&#x27;</span>, <span class="string">&#x27; &#x27;</span>, s))</span><br><span class="line"><span class="built_in">print</span>(re.sub(<span class="string">&#x27;c(?P&lt;name1&gt;\d+)a&#x27;</span>, <span class="string">&#x27; \g&lt;name1&gt; &#x27;</span>, s))  <span class="comment"># \g&lt;name1&gt;这个东西不能替换掉</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ab bc123</span></span><br><span class="line"><span class="comment"># ab 123 bc123</span></span><br></pre></td></tr></table></figure>
<h1 id="数据分析常用的三个模块"><a href="#数据分析常用的三个模块" class="headerlink" title="数据分析常用的三个模块"></a>数据分析常用的三个模块</h1><h2 id="numpy模块"><a href="#numpy模块" class="headerlink" title="numpy模块"></a>numpy模块</h2><h3 id="numpy简介"><a href="#numpy简介" class="headerlink" title="numpy简介"></a>numpy简介</h3><p>numpy官方文档：<a target="_blank" rel="noopener" href="https://docs.scipy.org/doc/numpy/reference/?v=20190307135750">https://docs.scipy.org/doc/numpy/reference/?v=20190307135750</a></p>
<p>numpy是Python的一种开源的数值计算扩展库。这种库可用来存储和处理大型numpy数组，比Python自身的嵌套列表结构要高效的多（该结构也可以用来表示numpy数组）。</p>
<p>numpy库有两个作用：</p>
<ol>
<li>区别于list列表，提供了数组操作、数组运算、以及统计分布和简单的数学模型</li>
<li>计算速度快，甚至要由于python内置的简单运算，使得其成为pandas、sklearn等模块的依赖包。高级的框架如TensorFlow、PyTorch等，其数组操作也和numpy非常相似。</li>
</ol>
<h3 id="numpy使用"><a href="#numpy使用" class="headerlink" title="numpy使用"></a>numpy使用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">lt1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">lt2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">arry1 = np.array(lt1)</span><br><span class="line">arry2 = np.array(lt2)</span><br><span class="line"><span class="built_in">print</span>(arry1*arry2)    <span class="comment"># [ 4 10 18]  </span></span><br></pre></td></tr></table></figure>
<p>创建numpy数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一维数组</span></span><br><span class="line">arr1 = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(arr1), arr1)  <span class="comment"># &lt;class &#x27;numpy.ndarray&#x27;&gt; [1 2 4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 二维数组</span></span><br><span class="line">arr = np.array([</span><br><span class="line">    [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">    [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(arr)  </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[1 2 3]</span></span><br><span class="line"><span class="string"> [4 5 6]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 三维数组</span></span><br><span class="line">arr = np.array([</span><br><span class="line">    [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">     [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]],</span><br><span class="line">    [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">     [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[[1 2 3]</span></span><br><span class="line"><span class="string">  [4 5 6]]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> [[1 2 3]</span></span><br><span class="line"><span class="string">  [4 5 6]]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>numpy数组的常用属性</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">属性</th>
<th style="text-align:center">解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">数组的转置（对高维数组而言）</td>
</tr>
<tr>
<td style="text-align:center">dtype</td>
<td style="text-align:center">数组元素的数据类型</td>
</tr>
<tr>
<td style="text-align:center">size</td>
<td style="text-align:center">数组元素的个数</td>
</tr>
<tr>
<td style="text-align:center">ndim</td>
<td style="text-align:center">数组的维数</td>
</tr>
<tr>
<td style="text-align:center">shape</td>
<td style="text-align:center">数组的维度大小（以元组形式）</td>
</tr>
<tr>
<td style="text-align:center">astype</td>
<td style="text-align:center">类型转换</td>
</tr>
</tbody>
</table>
</div>
<p>dtype 数组元素的数据类型，numpy数组是属于python解释器的，int32 / float64 属于numpy</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 转置</span></span><br><span class="line">arr = np.array([</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">    [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;arr的转置为\n<span class="subst">&#123;arr.T&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">arr的转置为</span></span><br><span class="line"><span class="string">[[1 4]</span></span><br><span class="line"><span class="string"> [2 5]</span></span><br><span class="line"><span class="string"> [3 6]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># dtype数据类型</span></span><br><span class="line">arr = np.array([</span><br><span class="line">    [<span class="number">1.</span>, <span class="number">2.</span>, <span class="number">3.</span>],</span><br><span class="line">    [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(arr.dtype)  <span class="comment"># float64</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数组元素的个数</span></span><br><span class="line"><span class="built_in">print</span>(arr.size)   <span class="comment"># 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数组的维数</span></span><br><span class="line"><span class="built_in">print</span>(arr.ndim)  <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数组的维度大小（以元组形式， 几行几列）</span></span><br><span class="line"><span class="built_in">print</span>(arr.shape)  <span class="comment"># （2，3）</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数组类型转换</span></span><br><span class="line">arr = np.array([</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">    [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">])</span><br><span class="line">res = arr.astype(np.float64)</span><br><span class="line"><span class="built_in">print</span>(res) </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[1. 2. 3.]</span></span><br><span class="line"><span class="string"> [4. 5. 6.]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>切割numpy数组</p>
<p>切分数组类似于列表的切割，numpy数组的切割涉及到行和列的切割</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">    [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(arr[:,:])  <span class="comment"># 行；列  取整个数组</span></span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">0</span>,<span class="number">0</span>])  <span class="comment"># 取第一行第一列，1</span></span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">0</span>,:])  <span class="comment"># 取第一行  [1 2 3]</span></span><br><span class="line"><span class="built_in">print</span>(arr[:,<span class="number">2</span>:])  <span class="comment"># 取第三列 </span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[3]</span></span><br><span class="line"><span class="string"> [6]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">    [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">])</span><br><span class="line">arr[<span class="number">0</span>,<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(arr)   <span class="comment"># 将二维数组第一行第一列元素赋值为0</span></span><br><span class="line"></span><br><span class="line">arr[:,:] = <span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(arr)  <span class="comment"># 全部换为0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[0 0 0]</span></span><br><span class="line"><span class="string"> [0 0 0]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>元组合并</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 水平合并</span></span><br><span class="line">arr1 = np.array([</span><br><span class="line">    [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">    [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">arr2 = np.array([</span><br><span class="line">    [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">    [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.hstack((arr1,arr2))) <span class="comment"># 只能放元组</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[&#x27;1&#x27; &#x27;2&#x27; &#x27;3&#x27; &#x27;7&#x27; &#x27;8&#x27; &#x27;9&#x27;]</span></span><br><span class="line"><span class="string"> [&#x27;4&#x27; &#x27;5&#x27; &#x27;6&#x27; &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 垂直合并</span></span><br><span class="line"><span class="built_in">print</span>(np.vstack((arr1, arr2)))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[&#x27;1&#x27; &#x27;2&#x27; &#x27;3&#x27;]</span></span><br><span class="line"><span class="string"> [&#x27;4&#x27; &#x27;5&#x27; &#x27;6&#x27;]</span></span><br><span class="line"><span class="string"> [&#x27;7&#x27; &#x27;8&#x27; &#x27;9&#x27;]</span></span><br><span class="line"><span class="string"> [&#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.concatenate((arr1, arr2)))  <span class="comment"># 默认以列合并</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[&#x27;1&#x27; &#x27;2&#x27; &#x27;3&#x27;]</span></span><br><span class="line"><span class="string"> [&#x27;4&#x27; &#x27;5&#x27; &#x27;6&#x27;]</span></span><br><span class="line"><span class="string"> [&#x27;7&#x27; &#x27;8&#x27; &#x27;9&#x27;]</span></span><br><span class="line"><span class="string"> [&#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(np.concatenate((arr1, arr2), axis=<span class="number">1</span>)) <span class="comment"># 以行合并</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[&#x27;1&#x27; &#x27;2&#x27; &#x27;3&#x27; &#x27;7&#x27; &#x27;8&#x27; &#x27;9&#x27;]</span></span><br><span class="line"><span class="string"> [&#x27;4&#x27; &#x27;5&#x27; &#x27;6&#x27; &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>通过函数创建数组</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">方法</th>
<th style="text-align:center">详解</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">array()</td>
<td style="text-align:center">将列表转换为数组，可选择显式指定dtype</td>
</tr>
<tr>
<td style="text-align:center">arange()</td>
<td style="text-align:center">range的numpy版，支持浮点数</td>
</tr>
<tr>
<td style="text-align:center">linspace()</td>
<td style="text-align:center">类似arange()，第三个参数为数组长度</td>
</tr>
<tr>
<td style="text-align:center">zeros()</td>
<td style="text-align:center">根据指定形状和dtype创建全0数组</td>
</tr>
<tr>
<td style="text-align:center">ones()</td>
<td style="text-align:center">根据指定形状和dtype创建全1数组</td>
</tr>
<tr>
<td style="text-align:center">eye()</td>
<td style="text-align:center">创建单位矩阵</td>
</tr>
<tr>
<td style="text-align:center">empty()</td>
<td style="text-align:center">创建一个元素全随机的数组</td>
</tr>
<tr>
<td style="text-align:center">reshape()</td>
<td style="text-align:center">重塑形状</td>
</tr>
</tbody>
</table>
</div>
<p>ones / zeros / eye / empty</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ones</span></span><br><span class="line"><span class="built_in">print</span>(np.ones((<span class="number">2</span>,<span class="number">3</span>)))  <span class="comment"># 构建两行三列的1</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[1. 1. 1.]</span></span><br><span class="line"><span class="string"> [1. 1. 1.]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># zeros</span></span><br><span class="line"><span class="built_in">print</span>(np.zeros((<span class="number">2</span>,<span class="number">3</span>)))  <span class="comment"># 创建2行3列的0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[0. 0. 0.]</span></span><br><span class="line"><span class="string"> [0. 0. 0.]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># eye</span></span><br><span class="line"><span class="built_in">print</span>(np.eye(<span class="number">3</span>,<span class="number">3</span>))  <span class="comment"># 创建单位矩阵</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[1. 0. 0.]</span></span><br><span class="line"><span class="string"> [0. 1. 0.]</span></span><br><span class="line"><span class="string"> [0. 0. 1.]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># empty</span></span><br><span class="line"><span class="built_in">print</span>(np.empty((<span class="number">2</span>,<span class="number">2</span>)))  <span class="comment"># 创建一个2行2列的数组，里面的元素是随机生成的</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[1.42419938e-306 9.34609790e-307]</span></span><br><span class="line"><span class="string"> [1.29060871e-306 7.56601165e-307]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>linspace / logspace</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.linspace(<span class="number">1</span>,<span class="number">100</span>,<span class="number">10</span>)) <span class="comment"># 创建一个等差数列，1-100，有10个数</span></span><br><span class="line"><span class="comment"># [  1.  12.  23.  34.  45.  56.  67.  78.  89. 100.]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.logspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">5</span>))  <span class="comment"># 创建等比数列、</span></span><br><span class="line"><span class="comment"># [1.00000000e+01 1.77827941e+03 3.16227766e+05 5.62341325e+07 1.00000000e+10]</span></span><br></pre></td></tr></table></figure>
<p>arrange</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.arange(<span class="number">2</span>,<span class="number">10</span>))</span><br><span class="line"><span class="comment"># [2 3 4 5 6 7 8 9]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.arange(<span class="number">2</span>,<span class="number">10</span>,<span class="number">2</span>))  <span class="comment"># 2-10，步长为2的数组</span></span><br><span class="line"><span class="comment"># [2 4 6 8]</span></span><br></pre></td></tr></table></figure>
<p>reshape 重构形状</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr = np.ones([<span class="number">2</span>,<span class="number">2</span>])  <span class="comment"># 本来是2*2的1</span></span><br><span class="line"><span class="comment"># print(arr) </span></span><br><span class="line"><span class="built_in">print</span>(arr.reshape(<span class="number">1</span>,<span class="number">4</span>))  <span class="comment"># 变成1*4的1</span></span><br><span class="line"><span class="comment"># [[1. 1. 1. 1.]]</span></span><br></pre></td></tr></table></figure>
<p>数组运算</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>两个numpy数组对应元素相加</td>
</tr>
<tr>
<td>-</td>
<td>两个numpy数组对应元素相减</td>
</tr>
<tr>
<td>*</td>
<td>两个numpy数组对应元素相乘</td>
</tr>
<tr>
<td>/</td>
<td>两个numpy数组对应元素相除，如果都是整数则取商</td>
</tr>
<tr>
<td>%</td>
<td>两个numpy数组对应元素相除后取余数</td>
</tr>
<tr>
<td>**n</td>
<td>单个numpy数组每个元素都取n次方，如**2：每个元素都取平方</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([</span><br><span class="line">    [<span class="number">3</span>, <span class="number">4</span>, <span class="number">56</span>],</span><br><span class="line">    [<span class="number">12</span>, <span class="number">4</span>, <span class="number">25</span>]</span><br><span class="line">])</span><br><span class="line"><span class="built_in">print</span>(arr / <span class="number">2</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[ 1.5  2.  28. ]</span></span><br><span class="line"><span class="string"> [ 6.   2.  12.5]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">arr = np.array([</span><br><span class="line">    [<span class="number">3</span>, <span class="number">4</span>, <span class="number">56</span>],</span><br><span class="line">    [<span class="number">12</span>, <span class="number">4</span>, <span class="number">25</span>]</span><br><span class="line">])</span><br><span class="line"><span class="built_in">print</span>(arr ** <span class="number">2</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[   9   16 3136]</span></span><br><span class="line"><span class="string"> [ 144   16  625]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>numpy数组函数运算</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>numpy数组函数</th>
<th>详解</th>
</tr>
</thead>
<tbody>
<tr>
<td>np.sin(arr)</td>
<td>对numpy数组arr中每个元素取正弦，sin(x)sin(x)</td>
</tr>
<tr>
<td>np.cos(arr)</td>
<td>对numpy数组arr中每个元素取余弦，cos(x)cos(x)</td>
</tr>
<tr>
<td>np.tan(arr)</td>
<td>对numpy数组arr中每个元素取正切，tan(x)tan(x)</td>
</tr>
<tr>
<td>np.arcsin(arr)</td>
<td>对numpy数组arr中每个元素取反正弦，arcsin(x)arcsin(x)</td>
</tr>
<tr>
<td>np.arccos(arr)</td>
<td>对numpy数组arr中每个元素取反余弦，arccos(x)arccos(x)</td>
</tr>
<tr>
<td>np.arctan(arr)</td>
<td>对numpy数组arr中每个元素取反正切，arctan(x)arctan(x)</td>
</tr>
<tr>
<td>np.exp(arr)</td>
<td>对numpy数组arr中每个元素取指数函数，exex</td>
</tr>
<tr>
<td>np.sqrt(arr)</td>
<td>对numpy数组arr中每个元素开根号x−−x−−√2x2</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([</span><br><span class="line">    [<span class="number">3</span>, <span class="number">4</span>, <span class="number">56</span>],</span><br><span class="line">    [<span class="number">12</span>, <span class="number">4</span>, <span class="number">25</span>]</span><br><span class="line">])</span><br><span class="line"><span class="built_in">print</span>(np.sin(arr))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[ 0.14112001 -0.7568025  -0.521551  ]</span></span><br><span class="line"><span class="string"> [-0.53657292 -0.7568025  -0.13235175]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>numpy.random生成随机数</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>函数名称</th>
<th>函数功能</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>rand(d0,d1,⋯,dnd0,d1,⋯,dn)</td>
<td>产生均匀分布的随机数</td>
<td>dndn为第n维数据的维度</td>
</tr>
<tr>
<td>randn(d0,d1,⋯,dnd0,d1,⋯,dn)</td>
<td>产生标准正态分布随机数</td>
<td>dndn为第n维数据的维度</td>
</tr>
<tr>
<td>randint(low[, high, size, dtype])</td>
<td>产生随机整数</td>
<td>low:最小值；high:最大值；size:数据个数</td>
</tr>
<tr>
<td>random_sample([size])</td>
<td>在[0,1)[0,1)内产生随机数</td>
<td>size为随机数的shape，可以为元祖或者列表</td>
</tr>
<tr>
<td>choice(a[, size])</td>
<td>从arr中随机选择指定数据</td>
<td>arr为1维数组；size为数组形状</td>
</tr>
<tr>
<td>uniform(low,high [,size])</td>
<td>给定形状产生随机数组</td>
<td>low为最小值；high为最大值，size为数组形状</td>
</tr>
<tr>
<td>shuffle(a)</td>
<td>与random.shuffle相同</td>
<td>a为指定数组</td>
</tr>
</tbody>
</table>
</div>
<h2 id="matplotlib模块"><a href="#matplotlib模块" class="headerlink" title="matplotlib模块"></a>matplotlib模块</h2><h3 id="条形图"><a href="#条形图" class="headerlink" title="条形图"></a>条形图</h3><p>初始的:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">classes = [<span class="string">&#x27;3班&#x27;</span>, <span class="string">&#x27;4班&#x27;</span>, <span class="string">&#x27;5班&#x27;</span>, <span class="string">&#x27;6班&#x27;</span>]</span><br><span class="line">students = [<span class="number">55</span>, <span class="number">45</span>, <span class="number">60</span>, <span class="number">50</span>]</span><br><span class="line"></span><br><span class="line">plt.bar(classes, students)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/setcreed/pic_img/cdn_img/20200131205506.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> FontProperties  <span class="comment"># 修改字体</span></span><br><span class="line"></span><br><span class="line">font = FontProperties(fname=<span class="string">&#x27;C:\Windows\Fonts\simkai.ttf&#x27;</span>)  <span class="comment"># 中文字体</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">classes = [<span class="string">&#x27;3班&#x27;</span>, <span class="string">&#x27;4班&#x27;</span>, <span class="string">&#x27;5班&#x27;</span>, <span class="string">&#x27;6班&#x27;</span>]</span><br><span class="line">students = [<span class="number">55</span>, <span class="number">45</span>, <span class="number">60</span>, <span class="number">50</span>]</span><br><span class="line">classes_index = <span class="built_in">range</span>(<span class="built_in">len</span>(classes))</span><br><span class="line"></span><br><span class="line">plt.bar(classes_index, students)</span><br><span class="line">plt.xticks(classes_index, classes, FontProperties=font)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/setcreed/pic_img/cdn_img/20200131205531.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> FontProperties  <span class="comment"># 修改字体</span></span><br><span class="line"></span><br><span class="line">font = FontProperties(fname=<span class="string">&#x27;C:\Windows\Fonts\simkai.ttf&#x27;</span>)  <span class="comment"># 中文字体</span></span><br><span class="line"></span><br><span class="line">plt.style.use(<span class="string">&#x27;ggplot&#x27;</span>)  <span class="comment"># 设置背景条纹</span></span><br><span class="line"></span><br><span class="line">classes = [<span class="string">&#x27;3班&#x27;</span>, <span class="string">&#x27;4班&#x27;</span>, <span class="string">&#x27;5班&#x27;</span>, <span class="string">&#x27;6班&#x27;</span>]</span><br><span class="line">students = [<span class="number">55</span>, <span class="number">45</span>, <span class="number">60</span>, <span class="number">50</span>]</span><br><span class="line">classes_index = <span class="built_in">range</span>(<span class="built_in">len</span>(classes))</span><br><span class="line"></span><br><span class="line">plt.bar(classes_index, students, color=<span class="string">&#x27;darkblue&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&#x27;学生&#x27;</span>, FontProperties=font)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;学生人数&#x27;</span>, FontProperties=font)</span><br><span class="line">plt.title(<span class="string">&#x27;班级-学生人数&#x27;</span>, FontProperties=font, fontsize=<span class="number">20</span>, fontweight=<span class="number">25</span>)</span><br><span class="line">plt.xticks(classes_index, classes, FontProperties=font)  <span class="comment"># 将x轴坐标替换成classes</span></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/setcreed/pic_img/cdn_img/20200131205603.png" alt=""></p>
<h3 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> FontProperties  <span class="comment"># 修改字体</span></span><br><span class="line"></span><br><span class="line">font = FontProperties(fname=<span class="string">&#x27;C:\Windows\Fonts\simkai.ttf&#x27;</span>)  <span class="comment"># 中文字体</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改背景为条纹</span></span><br><span class="line">plt.style.use(<span class="string">&#x27;ggplot&#x27;</span>)</span><br><span class="line"></span><br><span class="line">x1 = np.random.randn(<span class="number">10000</span>)  <span class="comment"># 随机生成符合正太分布的数</span></span><br><span class="line">x2 = np.random.randn(<span class="number">10000</span>)</span><br><span class="line"></span><br><span class="line">plt.hist(x1, bins=<span class="number">50</span>, color=<span class="string">&#x27;darkgreen&#x27;</span>)  <span class="comment"># bins=50表示每个变量的值分成50份，即会有50根柱子</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/setcreed/pic_img/cdn_img/20200131205625.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直方图</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> FontProperties  <span class="comment"># 修改字体</span></span><br><span class="line"></span><br><span class="line">font = FontProperties(fname=<span class="string">&#x27;C:\Windows\Fonts\simkai.ttf&#x27;</span>)  <span class="comment"># 中文字体</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改背景为条纹</span></span><br><span class="line">plt.style.use(<span class="string">&#x27;ggplot&#x27;</span>)</span><br><span class="line"></span><br><span class="line">x1 = np.random.randn(<span class="number">10000</span>)  <span class="comment"># 随机生成符合正太分布的数</span></span><br><span class="line">x2 = np.random.randn(<span class="number">10000</span>)</span><br><span class="line"></span><br><span class="line">fig = plt.figure()  <span class="comment"># 生成一张画布</span></span><br><span class="line">ax1 = fig.add_subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>) <span class="comment"># 一行两列取第一个</span></span><br><span class="line">ax2 = fig.add_subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>) <span class="comment"># 一行两列取第二个</span></span><br><span class="line"></span><br><span class="line">ax1.hist(x1, bins=<span class="number">50</span>, color=<span class="string">&#x27;darkgreen&#x27;</span>)  <span class="comment"># bins=50表示每个变量的值分成50份，即会有50根柱子</span></span><br><span class="line">ax2.hist(x2, bins=<span class="number">50</span>, color=<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 大标题</span></span><br><span class="line">fig.suptitle(<span class="string">&#x27;两个正太分布&#x27;</span>, FontProperties=font)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加子标题</span></span><br><span class="line">ax1.set_title(<span class="string">&#x27;x1的正态分布&#x27;</span>, FontProperties=font)</span><br><span class="line">ax2.set_title(<span class="string">&#x27;x2的正态分布&#x27;</span>, FontProperties=font)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/setcreed/pic_img/cdn_img/20200131205646.png" alt=""></p>
<h3 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 折线图</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> FontProperties  <span class="comment"># 修改字体</span></span><br><span class="line"></span><br><span class="line">font = FontProperties(fname=<span class="string">&#x27;C:\Windows\Fonts\simkai.ttf&#x27;</span>)  <span class="comment"># 中文字体</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改背景为条纹</span></span><br><span class="line">plt.style.use(<span class="string">&#x27;ggplot&#x27;</span>)</span><br><span class="line"></span><br><span class="line">np.random.seed(<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 使用numpy的累加和，保证数据取值范围不会在（0，1）内波动</span></span><br><span class="line">x1 = np.random.randn(<span class="number">40</span>).cumsum()</span><br><span class="line">x2 = np.random.randn(<span class="number">40</span>).cumsum()</span><br><span class="line">x3 = np.random.randn(<span class="number">40</span>).cumsum()</span><br><span class="line">x4 = np.random.randn(<span class="number">40</span>).cumsum()</span><br><span class="line"></span><br><span class="line">plt.plot(x1, color=<span class="string">&#x27;red&#x27;</span>, marker=<span class="string">&#x27;o&#x27;</span>, linestyle=<span class="string">&#x27;-&#x27;</span>, label=<span class="string">&#x27;红实线&#x27;</span>)</span><br><span class="line">plt.plot(x2, color=<span class="string">&#x27;yellow&#x27;</span>, marker=<span class="string">&#x27;x&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, label=<span class="string">&#x27;黄虚线&#x27;</span>)</span><br><span class="line">plt.plot(x3, color=<span class="string">&#x27;blue&#x27;</span>, marker=<span class="string">&#x27;*&#x27;</span>, linestyle=<span class="string">&#x27;-.&#x27;</span>, label=<span class="string">&#x27;蓝点线&#x27;</span>)</span><br><span class="line">plt.plot(x4, color=<span class="string">&#x27;black&#x27;</span>, marker=<span class="string">&#x27;s&#x27;</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, label=<span class="string">&#x27;绿点图&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># loc=&#x27;best&#x27;给label自动选择最好的位置</span></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;best&#x27;</span>, prop=font)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/setcreed/pic_img/cdn_img/20200131205708.png" alt=""></p>
<h3 id="散点图-直线图"><a href="#散点图-直线图" class="headerlink" title="散点图+直线图"></a>散点图+直线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 散点图</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.font_manager <span class="keyword">import</span> FontProperties  <span class="comment"># 修改字体</span></span><br><span class="line">font = FontProperties(fname=<span class="string">&#x27;C:\Windows\Fonts\simkai.ttf&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.style.use(<span class="string">&#x27;ggplot&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># fig = plt.figure(figsize=(10,20)) # 控制画布大小</span></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax1 = fig.add_subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">ax2 = fig.add_subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">x1 = np.arange(<span class="number">20</span>)</span><br><span class="line">y1 = x1 ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line">x2 = np.arange(<span class="number">20</span>)</span><br><span class="line">y2 = x2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ax1.scatter(x1, y1, color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;红&#x27;</span>)</span><br><span class="line">ax1.scatter(x2, y2, color=<span class="string">&#x27;blue&#x27;</span>, label=<span class="string">&#x27;蓝&#x27;</span>)</span><br><span class="line">ax2.plot(x1,y1)</span><br><span class="line">ax2.plot(x2,y2)</span><br><span class="line"></span><br><span class="line">fig.suptitle(<span class="string">&#x27;两张图&#x27;</span>, FontProperties=font)</span><br><span class="line">ax1.set_title(<span class="string">&#x27;散点图&#x27;</span>, FontProperties=font)</span><br><span class="line">ax2.set_title(<span class="string">&#x27;折线图&#x27;</span>, FontProperties=font)</span><br><span class="line">ax1.legend(prop=font)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/setcreed/pic_img/cdn_img/20200131205735.png" alt=""></p>
<h2 id="pandas模块"><a href="#pandas模块" class="headerlink" title="pandas模块"></a>pandas模块</h2><p>pandas中有两个主要的数据结构，其中Series数据结构类似于Numpy中的一维数组，DataFrame类似于多维表格数据结构。</p>
<p>pandas是python数据分析的核心模块。它主要提供了五大功能:</p>
<ol>
<li>支持文件存取操作，支持数据库(sql)、html、json、pickle、csv(txt、excel)、sas、stata、hdf等。</li>
<li>支持增删改查、切片、高阶函数、分组聚合等单表操作，以及和dict、list的互相转换。</li>
<li>支持多表拼接合并操作。</li>
<li>支持简单的绘图操作。</li>
<li>支持简单的统计分析操作。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">index = pd.date_range(<span class="string">&#x27;2019-01-01&#x27;</span>, periods=<span class="number">6</span>, freq=<span class="string">&#x27;M&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(index)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">DatetimeIndex([&#x27;2019-01-31&#x27;, &#x27;2019-02-28&#x27;, &#x27;2019-03-31&#x27;, &#x27;2019-04-30&#x27;,</span></span><br><span class="line"><span class="string">               &#x27;2019-05-31&#x27;, &#x27;2019-06-30&#x27;],</span></span><br><span class="line"><span class="string">              dtype=&#x27;datetime64[ns]&#x27;, freq=&#x27;M&#x27;)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">index = pd.date_range(<span class="string">&#x27;2019-01-01&#x27;</span>, periods=<span class="number">6</span>, freq=<span class="string">&#x27;M&#x27;</span>)</span><br><span class="line">columns = [<span class="string">&#x27;c1&#x27;</span>,<span class="string">&#x27;c2&#x27;</span>,<span class="string">&#x27;c3&#x27;</span>,<span class="string">&#x27;c4&#x27;</span>]</span><br><span class="line"><span class="comment"># print(columns)</span></span><br><span class="line">val = np.random.randn(<span class="number">6</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment"># print(val)</span></span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(index=index, columns=columns, data=val)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存文件，读出文件</span></span><br><span class="line">df.to_excel(<span class="string">&#x27;data.xls&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读出文件</span></span><br><span class="line">df = pd.read_excel(<span class="string">&#x27;data.xls&#x27;</span>, index_col=[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                  c1        c2        c3        c4</span></span><br><span class="line"><span class="string">2019-01-31 -1.469848 -0.875899 -0.571439  0.274287</span></span><br><span class="line"><span class="string">2019-02-28  0.783315 -0.333277  0.091470  1.484056</span></span><br><span class="line"><span class="string">2019-03-31  0.611354  0.565803 -1.298068  0.666117</span></span><br><span class="line"><span class="string">2019-04-30 -0.892975 -0.144261 -2.596248  1.103916</span></span><br><span class="line"><span class="string">2019-05-31 -1.207643 -0.475502 -1.577926 -0.373518</span></span><br><span class="line"><span class="string">2019-06-30 -0.233937 -1.492533 -0.207368  0.163620</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.index)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">DatetimeIndex([&#x27;2019-01-31&#x27;, &#x27;2019-02-28&#x27;, &#x27;2019-03-31&#x27;, &#x27;2019-04-30&#x27;,</span></span><br><span class="line"><span class="string">               &#x27;2019-05-31&#x27;, &#x27;2019-06-30&#x27;],</span></span><br><span class="line"><span class="string">              dtype=&#x27;datetime64[ns]&#x27;, freq=None)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.columns)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Index([&#x27;c1&#x27;, &#x27;c2&#x27;, &#x27;c3&#x27;, &#x27;c4&#x27;], dtype=&#x27;object&#x27;)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df[[<span class="string">&#x27;c1&#x27;</span>, <span class="string">&#x27;c2&#x27;</span>]])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 按照index取值</span></span><br><span class="line"><span class="built_in">print</span>(df.loc[<span class="string">&#x27;2019-01-31&#x27;</span>])</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">c1   -0.511065</span></span><br><span class="line"><span class="string">c2    0.173715</span></span><br><span class="line"><span class="string">c3    0.460645</span></span><br><span class="line"><span class="string">c4   -0.105340</span></span><br><span class="line"><span class="string">Name: 2019-01-31 00:00:00, dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 按照values取值</span></span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">-0.515215674883499</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">df.iloc[<span class="number">0</span>,:] = <span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                  c1        c2        c3        c4</span></span><br><span class="line"><span class="string">2019-01-31  0.000000  0.000000  0.000000  0.000000</span></span><br><span class="line"><span class="string">2019-02-28 -0.473829  0.647171 -1.026075 -0.630721</span></span><br><span class="line"><span class="string">2019-03-31  1.112496  2.454119 -0.339265  0.600856</span></span><br><span class="line"><span class="string">2019-04-30 -0.264615 -0.035386 -0.717795  0.320868</span></span><br><span class="line"><span class="string">2019-05-31 -0.638794 -0.926775  0.247402 -0.824648</span></span><br><span class="line"><span class="string">2019-06-30 -0.100243 -1.077409 -1.063229 -1.314213</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h1 id="jieba库"><a href="#jieba库" class="headerlink" title="jieba库"></a>jieba库</h1><p>jieba库一般用于分词</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line">res = jieba.lcut(<span class="string">&#x27;中华人民共和国是一个伟大的国家&#x27;</span>)   <span class="comment"># 精确模式，返回一个列表类型的分词结果</span></span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line">[<span class="string">&#x27;中华人民共和国&#x27;</span>, <span class="string">&#x27;是&#x27;</span>, <span class="string">&#x27;一个&#x27;</span>, <span class="string">&#x27;伟大&#x27;</span>, <span class="string">&#x27;的&#x27;</span>, <span class="string">&#x27;国家&#x27;</span>]</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line">res = jieba.lcut_for_search(<span class="string">&#x27;中华人民共和国是一个伟大的国家&#x27;</span>)  <span class="comment"># 搜索引擎模式，返回一个列表类型的分词结果，存在冗余</span></span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line">[<span class="string">&#x27;中华&#x27;</span>, <span class="string">&#x27;华人&#x27;</span>, <span class="string">&#x27;人民&#x27;</span>, <span class="string">&#x27;共和&#x27;</span>, <span class="string">&#x27;共和国&#x27;</span>, <span class="string">&#x27;中华人民共和国&#x27;</span>, <span class="string">&#x27;是&#x27;</span>, <span class="string">&#x27;一个&#x27;</span>, <span class="string">&#x27;伟大&#x27;</span>, <span class="string">&#x27;的&#x27;</span>, <span class="string">&#x27;国家&#x27;</span>]</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line">res = jieba.lcut(<span class="string">&#x27;中华人民共和国是一个伟大的国家&#x27;</span>,cut_all=<span class="literal">True</span>) <span class="comment"># 把所有的可能全部切出来</span></span><br><span class="line"><span class="built_in">print</span>(res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line">[<span class="string">&#x27;中华&#x27;</span>, <span class="string">&#x27;中华人民&#x27;</span>, <span class="string">&#x27;中华人民共和国&#x27;</span>, <span class="string">&#x27;华人&#x27;</span>, <span class="string">&#x27;人民&#x27;</span>, <span class="string">&#x27;人民共和国&#x27;</span>, <span class="string">&#x27;共和&#x27;</span>, <span class="string">&#x27;共和国&#x27;</span>, <span class="string">&#x27;国是&#x27;</span>, <span class="string">&#x27;一个&#x27;</span>, <span class="string">&#x27;伟大&#x27;</span>, <span class="string">&#x27;的&#x27;</span>, <span class="string">&#x27;国家&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h1 id="wordcloud词云"><a href="#wordcloud词云" class="headerlink" title="wordcloud词云"></a>wordcloud词云</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> wordcloud</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"><span class="keyword">from</span> imageio <span class="keyword">import</span> imread</span><br><span class="line"></span><br><span class="line">mk = imread(<span class="string">&#x27;test.png&#x27;</span>)  <span class="comment"># 把图片读入内存</span></span><br><span class="line">s = <span class="string">&#x27;&#x27;&#x27;当其他人盲目的追寻真相和真实的时候，记住。万物皆虚。</span></span><br><span class="line"><span class="string">当其他人受到法律和道德的束缚的时候，记住。万事皆允。</span></span><br><span class="line"><span class="string">我们服侍光明却耕耘于黑暗。</span></span><br><span class="line"><span class="string">真正睿智的人不会向你指明真相，而是教导你去发现真相。</span></span><br><span class="line"><span class="string">世界上明明有一万种宗教，人们却用一种方式祈祷。这里没有上帝，只有属于我们自己的信条。</span></span><br><span class="line"><span class="string">我们在黑暗中工作，为光明服务，我们，是刺客。&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">s_list = jieba.lcut(s)  <span class="comment"># 把字符串切成列表</span></span><br><span class="line">s = <span class="string">&#x27; &#x27;</span>.join(s_list)  <span class="comment"># 把列表拼接成字符串</span></span><br><span class="line">w = wordcloud.WordCloud(font_path=<span class="string">&#x27;C:\Windows\Fonts\simkai.ttf&#x27;</span>, background_color=<span class="string">&#x27;white&#x27;</span>, mask=mk)</span><br><span class="line">w.generate(s)</span><br><span class="line">w.to_file(<span class="string">&#x27;set.png&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/setcreed/pic_img/cdn_img/20200131205946.png" alt=""></p>
<h1 id="exec模块的补充"><a href="#exec模块的补充" class="headerlink" title="exec模块的补充"></a>exec模块的补充</h1><p>exec的作用：</p>
<p>可以把“字符串形式”的python代码，添加到全局空间或局部空间中</p>
<p>使用（传入三个参数）：</p>
<ul>
<li>参数一：“字符串形式”的python代码</li>
<li>参数二：全局名称空间</li>
<li>参数三：局部名称空间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.文本形式的python代码</span></span><br><span class="line">code = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">global x</span></span><br><span class="line"><span class="string">x = 10</span></span><br><span class="line"><span class="string">y = 20</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.全局名称空间</span></span><br><span class="line">global_dict = &#123;<span class="string">&#x27;x&#x27;</span>: <span class="number">200</span>&#125;</span><br><span class="line"><span class="comment"># 3.局部名称空间</span></span><br><span class="line">local_dict = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exec</span>(code, global_dict, local_dict)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(global_dict)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.文本形式的python代码</span></span><br><span class="line">code = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">x = 100</span></span><br><span class="line"><span class="string">y = 200</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">def func():</span></span><br><span class="line"><span class="string">    pass</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.全局名称空间</span></span><br><span class="line">global_dict = &#123;&#125;</span><br><span class="line"><span class="comment"># 3.局部名称空间</span></span><br><span class="line">local_dict = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exec</span>(code, global_dict, local_dict)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(local_dict)</span><br></pre></td></tr></table></figure>
<h1 id="subprocess模块"><a href="#subprocess模块" class="headerlink" title="subprocess模块"></a>subprocess模块</h1><p>运行python的时候，我们都是在创建并运行一个进程。像Linux进程那样，一个进程可以fork一个子进程，并让这个子进程exec另外一个程序。在Python中，我们通过标准库中的subprocess包来fork一个子进程，并运行一个外部的程序。<br>subprocess包中定义有数个创建子进程的函数，这些函数分别以不同的方式创建子进程，所以我们可以根据需要来从中选取一个使用。另外subprocess还提供了一些管理标准流(standard stream)和管道(pipe)的工具，从而在进程间使用文本通信。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    cmd = <span class="built_in">input</span>(<span class="string">&#x27;cmd&gt;&gt;&gt;: &#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> cmd == <span class="string">&#x27;q&#x27;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">    data = subprocess.Popen(</span><br><span class="line">        cmd,</span><br><span class="line">        shell=<span class="literal">True</span>,</span><br><span class="line">        stdout=subprocess.PIPE,  <span class="comment"># 返回标准输出结果</span></span><br><span class="line">        stderr=subprocess.PIPE  <span class="comment"># 返回标准错误结果</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    res = data.stdout.read() + data.stderr.read()</span><br><span class="line">    <span class="built_in">print</span>(res.decode(<span class="string">&#x27;gbk&#x27;</span>))</span><br></pre></td></tr></table></figure>
<h1 id="collections模块"><a href="#collections模块" class="headerlink" title="collections模块"></a>collections模块</h1><p>常用数据结构<br>抽象基类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> abc</span><br><span class="line"></span><br><span class="line">__all__ = [<span class="string">&#x27;deque&#x27;</span>, <span class="string">&#x27;defaultdict&#x27;</span>, <span class="string">&#x27;namedtuple&#x27;</span>, <span class="string">&#x27;UserDict&#x27;</span>, <span class="string">&#x27;UserList&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;UserString&#x27;</span>, <span class="string">&#x27;Counter&#x27;</span>, <span class="string">&#x27;OrderedDict&#x27;</span>, <span class="string">&#x27;ChainMap&#x27;</span>]</span><br></pre></td></tr></table></figure>
<p>tuple的功能<br>    不可变对象、iterable<br>    可以拆包<br>    tuple不可变不是绝对的<br>        将可变对象放在tuple<br>        name_tuple = (“cwz”, [22, 11])<br>name_tuple[1].append(4)<br>print(name_tuple)<br>    tuple比list好的地方<br>        immutable(不可变对象)的重要性<br>            性能优化<br>                指出元素全部为immutable的tuple会作为常量在编译时确定，因此产生了如此显著的速度差异<br>            线程安全<br>            可以作为dict的key<br>            拆包特性<br>        如果拿C语言类比，tuple对应的是struct，list对应的是array</p>
<p>namedtuple</p>
<p>创建简单对象很好用，比定义类省空间</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"></span><br><span class="line">User = namedtuple(<span class="string">&quot;User&quot;</span>, [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="string">&quot;height&quot;</span>])</span><br><span class="line">user_tuple = (<span class="string">&quot;cwz&quot;</span>, <span class="number">20</span>, <span class="number">178</span>)</span><br><span class="line">user_dic = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;cwz&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="string">&quot;height&quot;</span>: <span class="number">178</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># user = User(name=&quot;cwz&quot;, age=20, height=178)</span></span><br><span class="line">user = User._make(user_tuple)</span><br><span class="line"></span><br><span class="line"><span class="comment"># _asdict将namedtuple转换成dict</span></span><br><span class="line">user_info_dict = user._asdict()</span><br><span class="line"><span class="built_in">print</span>(user_info_dict)</span><br><span class="line"><span class="built_in">print</span>(user.name, user.age, user.height)</span><br></pre></td></tr></table></figure>
<p>defaultdict       <code>__missing__</code></p>
<p>使用dict来统计字符串出现的次数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">user_dict = &#123;&#125;</span><br><span class="line">users = [<span class="string">&quot;cwz&quot;</span>, <span class="string">&quot;reese&quot;</span>, <span class="string">&quot;neo&quot;</span>, <span class="string">&quot;cwz&quot;</span>, <span class="string">&quot;reese&quot;</span>, <span class="string">&quot;cwz&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> user <span class="keyword">in</span> users:</span><br><span class="line">    user_dict.setdefault(user, <span class="number">0</span>)</span><br><span class="line">    user_dict[user] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(user_dict)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line">default_dic = defaultdict(<span class="built_in">int</span>)</span><br><span class="line">users = [<span class="string">&quot;cwz&quot;</span>, <span class="string">&quot;reese&quot;</span>, <span class="string">&quot;neo&quot;</span>, <span class="string">&quot;cwz&quot;</span>, <span class="string">&quot;reese&quot;</span>, <span class="string">&quot;cwz&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> user <span class="keyword">in</span> users:</span><br><span class="line">    default_dic[user] += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(default_dic)     <span class="comment"># defaultdict(&lt;class &#x27;int&#x27;&gt;, &#123;&#x27;cwz&#x27;: 3, &#x27;reese&#x27;: 2, &#x27;neo&#x27;: 1&#125;)</span></span><br></pre></td></tr></table></figure>
<p>自定义复杂的默认dict</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dict_gen</span>():</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">default_dic = defaultdict(dict_gen)</span><br><span class="line"><span class="built_in">print</span>(default_dic[<span class="string">&quot;group&quot;</span>])     <span class="comment"># &#123;&#x27;name&#x27;: &#x27;&#x27;, &#x27;age&#x27;: 0&#125;</span></span><br></pre></td></tr></table></figure>
<p>deque 双端队列</p>
<p>deque是线程安全的，list不是线程安全</p>
<p>Counter</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 统计次数</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"></span><br><span class="line">users = [<span class="string">&quot;cwz&quot;</span>, <span class="string">&quot;reese&quot;</span>, <span class="string">&quot;neo&quot;</span>, <span class="string">&quot;cwz&quot;</span>, <span class="string">&quot;reese&quot;</span>, <span class="string">&quot;cwz&quot;</span>]</span><br><span class="line">user_counter = Counter(users)</span><br><span class="line"><span class="built_in">print</span>(user_counter) <span class="comment"># Counter(&#123;&#x27;cwz&#x27;: 3, &#x27;reese&#x27;: 2, &#x27;neo&#x27;: 1&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(user_counter.most_common(<span class="number">1</span>)) <span class="comment"># top_n问题</span></span><br></pre></td></tr></table></figure>
<p>OrderedDict</p>
<p>添加顺序是有序的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"></span><br><span class="line">user_dict = OrderedDict()</span><br><span class="line">user_dict[<span class="string">&quot;b&quot;</span>] = <span class="string">&quot;1&quot;</span></span><br><span class="line">user_dict[<span class="string">&quot;c&quot;</span>] = <span class="string">&quot;2&quot;</span></span><br><span class="line">user_dict[<span class="string">&quot;a&quot;</span>] = <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(user_dict)</span><br><span class="line"><span class="comment"># OrderedDict([(&#x27;b&#x27;, &#x27;1&#x27;), (&#x27;c&#x27;, &#x27;2&#x27;), (&#x27;a&#x27;, &#x27;3&#x27;)])</span></span><br><span class="line"></span><br><span class="line">pop</span><br><span class="line">popitem</span><br><span class="line">move_to_end</span><br></pre></td></tr></table></figure>
<p>ChainMap</p>
<p>访问多个dict就像访问一个dict方便</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://setcreed.github.io">SetCreed</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://setcreed.github.io/posts/804975ff/">https://setcreed.github.io/posts/804975ff/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://setcreed.github.io" target="_blank">伊甸园</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://setcreed.oss-cn-shanghai.aliyuncs.com/images/material-1.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/8a09709d/" title="01-面向对象"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://setcreed.oss-cn-shanghai.aliyuncs.com/images/material-7.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">01-面向对象</div></div></a></div><div class="next-post pull-right"><a href="/posts/b33b29e5/" title="01-函数基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://setcreed.oss-cn-shanghai.aliyuncs.com/images/material-1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">01-函数基础</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">SetCreed</div><div class="author-info__description">读书、写代码、看电影</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">89</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/setcreed"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="/img/qq.jpg" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="/img/wechat_account.jpg" target="_blank" title="微信"><i class="fab fa-weixin"></i></a><a class="social-icon" href="https://github.com/setcreed" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:cwzdzg@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#OS%E6%A8%A1%E5%9D%97"><span class="toc-number">1.</span> <span class="toc-text">OS模块</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sys%E6%A8%A1%E5%9D%97"><span class="toc-number">2.</span> <span class="toc-text">sys模块</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#json%E5%92%8Cpickle%E6%A8%A1%E5%9D%97"><span class="toc-number">3.</span> <span class="toc-text">json和pickle模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">3.1.</span> <span class="toc-text">序列化和反序列化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#json%E6%A8%A1%E5%9D%97"><span class="toc-number">3.2.</span> <span class="toc-text">json模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pickle"><span class="toc-number">3.3.</span> <span class="toc-text">pickle</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#logging%E6%A8%A1%E5%9D%97"><span class="toc-number">4.</span> <span class="toc-text">logging模块</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#time%E6%A8%A1%E5%9D%97"><span class="toc-number">5.</span> <span class="toc-text">time模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-number">5.1.</span> <span class="toc-text">时间戳</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%97%B6%E9%97%B4"><span class="toc-number">5.2.</span> <span class="toc-text">格式化时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%8C%96%E6%97%B6%E9%97%B4"><span class="toc-number">5.3.</span> <span class="toc-text">结构化时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sleep"><span class="toc-number">5.4.</span> <span class="toc-text">sleep</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E8%BF%9B%E5%BA%A6%E6%9D%A1%E5%B1%95%E7%A4%BA"><span class="toc-number">5.5.</span> <span class="toc-text">文本进度条展示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="toc-number">5.5.1.</span> <span class="toc-text">文本进度条</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%BC%80%E5%A7%8B"><span class="toc-number">5.5.2.</span> <span class="toc-text">简单开始</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E7%BB%AD%E4%BF%AE%E6%94%B9"><span class="toc-number">5.5.3.</span> <span class="toc-text">继续修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%9D%A1%E6%98%BE%E7%A4%BA"><span class="toc-number">5.5.4.</span> <span class="toc-text">单条显示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E8%BF%9B%E5%BA%A6%E6%9D%A1%E6%9C%80%E7%BB%88%E5%BD%A2%E5%BC%8F"><span class="toc-number">5.5.5.</span> <span class="toc-text">文本进度条最终形式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#datetime%E6%A8%A1%E5%9D%97"><span class="toc-number">6.</span> <span class="toc-text">datetime模块</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#random%E6%A8%A1%E5%9D%97"><span class="toc-number">7.</span> <span class="toc-text">random模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%9C%86%E5%91%A8%E7%8E%87"><span class="toc-number">7.1.</span> <span class="toc-text">计算圆周率</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#typing%E6%A8%A1%E5%9D%97"><span class="toc-number">8.</span> <span class="toc-text">typing模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#typing%E6%A8%A1%E5%9D%97%E4%BD%9C%E7%94%A8"><span class="toc-number">8.1.</span> <span class="toc-text">typing模块作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#typing%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">8.2.</span> <span class="toc-text">typing常用类型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#hashlib%E6%A8%A1%E5%9D%97"><span class="toc-number">9.</span> <span class="toc-text">hashlib模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#hash%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">9.1.</span> <span class="toc-text">hash是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%92%9E%E5%BA%93%E7%A0%B4%E8%A7%A3hash%E7%AE%97%E6%B3%95"><span class="toc-number">9.2.</span> <span class="toc-text">撞库破解hash算法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#hmac%E6%A8%A1%E5%9D%97"><span class="toc-number">10.</span> <span class="toc-text">hmac模块</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#re%E6%A8%A1%E5%9D%97"><span class="toc-number">11.</span> <span class="toc-text">re模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#re%E6%A8%A1%E5%9D%97%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-number">11.1.</span> <span class="toc-text">re模块的基本使用：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#re%E6%A8%A1%E5%9D%97%E5%B8%B8%E7%94%A8%E7%9A%84%E5%8A%9F%E8%83%BD%E5%87%BD%E6%95%B0"><span class="toc-number">11.2.</span> <span class="toc-text">re模块常用的功能函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B8%B8%E7%94%A8%E7%9A%84%E4%B8%89%E4%B8%AA%E6%A8%A1%E5%9D%97"><span class="toc-number">12.</span> <span class="toc-text">数据分析常用的三个模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E6%A8%A1%E5%9D%97"><span class="toc-number">12.1.</span> <span class="toc-text">numpy模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#numpy%E7%AE%80%E4%BB%8B"><span class="toc-number">12.1.1.</span> <span class="toc-text">numpy简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#numpy%E4%BD%BF%E7%94%A8"><span class="toc-number">12.1.2.</span> <span class="toc-text">numpy使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#matplotlib%E6%A8%A1%E5%9D%97"><span class="toc-number">12.2.</span> <span class="toc-text">matplotlib模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E5%BD%A2%E5%9B%BE"><span class="toc-number">12.2.1.</span> <span class="toc-text">条形图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="toc-number">12.2.2.</span> <span class="toc-text">直方图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="toc-number">12.2.3.</span> <span class="toc-text">折线图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%A3%E7%82%B9%E5%9B%BE-%E7%9B%B4%E7%BA%BF%E5%9B%BE"><span class="toc-number">12.2.4.</span> <span class="toc-text">散点图+直线图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pandas%E6%A8%A1%E5%9D%97"><span class="toc-number">12.3.</span> <span class="toc-text">pandas模块</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#jieba%E5%BA%93"><span class="toc-number">13.</span> <span class="toc-text">jieba库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#wordcloud%E8%AF%8D%E4%BA%91"><span class="toc-number">14.</span> <span class="toc-text">wordcloud词云</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#exec%E6%A8%A1%E5%9D%97%E7%9A%84%E8%A1%A5%E5%85%85"><span class="toc-number">15.</span> <span class="toc-text">exec模块的补充</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#subprocess%E6%A8%A1%E5%9D%97"><span class="toc-number">16.</span> <span class="toc-text">subprocess模块</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#collections%E6%A8%A1%E5%9D%97"><span class="toc-number">17.</span> <span class="toc-text">collections模块</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/4f91bd66/" title="kube-apiserver更改鉴权方式"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://setcreed.oss-cn-shanghai.aliyuncs.com/images/material-4.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kube-apiserver更改鉴权方式"/></a><div class="content"><a class="title" href="/posts/4f91bd66/" title="kube-apiserver更改鉴权方式">kube-apiserver更改鉴权方式</a><time datetime="2024-02-27T14:17:38.000Z" title="发表于 2024-02-27 22:17:38">2024-02-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/fec34943/" title="kube-apiserver本地启动"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://setcreed.oss-cn-shanghai.aliyuncs.com/images/material-9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kube-apiserver本地启动"/></a><div class="content"><a class="title" href="/posts/fec34943/" title="kube-apiserver本地启动">kube-apiserver本地启动</a><time datetime="2024-02-27T12:44:47.000Z" title="发表于 2024-02-27 20:44:47">2024-02-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7b5f308e/" title="kubernetes组件之apiserver"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://setcreed.oss-cn-shanghai.aliyuncs.com/images/202402272048351.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes组件之apiserver"/></a><div class="content"><a class="title" href="/posts/7b5f308e/" title="kubernetes组件之apiserver">kubernetes组件之apiserver</a><time datetime="2024-02-27T12:36:09.000Z" title="发表于 2024-02-27 20:36:09">2024-02-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d99f2ea2/" title="云原生软件开发模式"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://setcreed.oss-cn-shanghai.aliyuncs.com/images/material-13.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="云原生软件开发模式"/></a><div class="content"><a class="title" href="/posts/d99f2ea2/" title="云原生软件开发模式">云原生软件开发模式</a><time datetime="2023-11-25T14:31:18.000Z" title="发表于 2023-11-25 22:31:18">2023-11-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/b43710ac/" title="容器共享进程命名空间的应用"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://setcreed.oss-cn-shanghai.aliyuncs.com/images/material-3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="容器共享进程命名空间的应用"/></a><div class="content"><a class="title" href="/posts/b43710ac/" title="容器共享进程命名空间的应用">容器共享进程命名空间的应用</a><time datetime="2023-11-22T22:39:35.000Z" title="发表于 2023-11-23 06:39:35">2023-11-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By SetCreed</div><div class="footer_custom_text"><p><a style="margin-inline:5px" target="_blank" href="https://hexo.io/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为 Hexo" alt="HEXO"></a><a style="margin-inline:5px" target="_blank" href="https://butterfly.js.org/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用 Butterfly" alt="Butterfly"></a><a style="margin-inline:5px" target="_blank" href="https://github.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由 GitHub 托管" alt="GitHub"></a><a style="margin-inline:5px" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" alt="img" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><script src="https://unpkg.com/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://unpkg.com/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>